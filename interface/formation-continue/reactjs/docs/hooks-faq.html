<!DOCTYPE html><html lang="fr"><head><link rel="preload" href="../docsearch.js@2.4.1/dist/cdn/docsearch.min.js" as="script"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" href="../favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><link rel="apple-touch-icon" href="../logo-180x180.png"><meta name="apple-mobile-web-app-title" content="React"><style data-href="/styles.54da69c9b9dd8bfce2a8.css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}html{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:400;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{overflow-x:hidden;position:relative}*{margin:0;padding:0}*,:after,:before{box-sizing:inherit}a{color:inherit;text-decoration:none}ol,ul{list-style:none}img{display:inline-block;vertical-align:top}code,pre{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}.searchbox{display:inline-block;position:relative;width:200px;height:32px!important;white-space:nowrap;box-sizing:border-box;visibility:visible!important}.searchbox .algolia-autocomplete{display:block;width:100%;height:100%}.searchbox__wrapper{width:100%;height:100%;z-index:999;position:relative}.searchbox__input{display:inline-block;box-sizing:border-box;transition:box-shadow .4s ease,background .4s ease;border:0;border-radius:16px;box-shadow:inset 0 0 0 1px #ccc;background:#fff!important;padding:0 26px 0 32px;width:100%;height:100%;vertical-align:middle;white-space:normal;font-size:12px;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbox__input::-webkit-search-cancel-button,.searchbox__input::-webkit-search-decoration,.searchbox__input::-webkit-search-results-button,.searchbox__input::-webkit-search-results-decoration{display:none}.searchbox__input:hover{box-shadow:inset 0 0 0 1px #b3b3b3}.searchbox__input:active,.searchbox__input:focus{outline:0;box-shadow:inset 0 0 0 1px #aaa;background:#fff}.searchbox__input::-webkit-input-placeholder{color:#aaa}.searchbox__input:-ms-input-placeholder{color:#aaa}.searchbox__input::-ms-input-placeholder{color:#aaa}.searchbox__input::placeholder{color:#aaa}.searchbox__submit{position:absolute;top:0;margin:0;border:0;border-radius:16px 0 0 16px;background-color:rgba(69,142,225,0);padding:0;width:32px;height:100%;vertical-align:middle;text-align:center;font-size:inherit;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;right:inherit;left:0}.searchbox__submit:before{display:inline-block;margin-right:-4px;height:100%;vertical-align:middle;content:""}.searchbox__submit:active,.searchbox__submit:hover{cursor:pointer}.searchbox__submit:focus{outline:0}.searchbox__submit svg{width:14px;height:14px;vertical-align:middle;fill:#6d7e96}.searchbox__reset{display:block;position:absolute;top:8px;right:8px;margin:0;border:0;background:none;cursor:pointer;padding:0;font-size:inherit;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;fill:rgba(0,0,0,.5)}.searchbox__reset.hide{display:none}.searchbox__reset:focus{outline:0}.searchbox__reset svg{display:block;margin:4px;width:8px;height:8px}.searchbox__input:valid~.searchbox__reset{display:block;animation-name:sbx-reset-in;animation-duration:.15s}@keyframes sbx-reset-in{0%{transform:translate3d(-20%,0,0);opacity:0}to{transform:none;opacity:1}}.algolia-autocomplete .ds-dropdown-menu:before{display:block;position:absolute;content:"";width:14px;height:14px;background:#373940;z-index:1000;top:-7px;border-top:1px solid #373940;border-right:1px solid #373940;transform:rotate(-45deg);border-radius:2px}.algolia-autocomplete .ds-dropdown-menu{box-shadow:0 1px 0 0 rgba(0,0,0,.2),0 2px 3px 0 rgba(0,0,0,.1)}@media (min-width:601px){.algolia-autocomplete.algolia-autocomplete-right .ds-dropdown-menu{right:0!important;left:inherit!important}.algolia-autocomplete.algolia-autocomplete-right .ds-dropdown-menu:before{right:48px}.algolia-autocomplete .ds-dropdown-menu{top:-6px;border-radius:4px;margin:6px 0 0;padding:0;text-align:left;height:auto;position:relative;background:transparent;border:none;z-index:999;max-width:600px;min-width:500px}}@media (max-width:600px){.algolia-autocomplete .ds-dropdown-menu{z-index:100;position:fixed!important;top:40px!important;left:auto!important;right:1rem!important;width:600px;max-width:calc(100% - 2rem);max-height:calc(100% - 5rem);display:block}.algolia-autocomplete .ds-dropdown-menu:before{right:6rem}}.algolia-autocomplete .ds-dropdown-menu .ds-suggestions{position:relative;z-index:1000}.algolia-autocomplete .ds-dropdown-menu .ds-suggestion{cursor:pointer}.algolia-autocomplete .ds-dropdown-menu [class^=ds-dataset-]{position:relative;border-radius:4px;overflow:auto;padding:0}.algolia-autocomplete .ds-dropdown-menu *{box-sizing:border-box}.algolia-autocomplete .algolia-docsearch-suggestion{position:relative;padding:0;overflow:hidden}.algolia-autocomplete .ds-cursor .algolia-docsearch-suggestion--wrapper{background:#f1f1f1;box-shadow:inset -2px 0 0 #61dafb}.algolia-autocomplete .algolia-docsearch-suggestion--highlight{background:#ffe564;padding:.1em .05em}.algolia-autocomplete .algolia-docsearch-suggestion--category-header .algolia-docsearch-suggestion--category-header-lvl0 .algolia-docsearch-suggestion--highlight,.algolia-autocomplete .algolia-docsearch-suggestion--category-header .algolia-docsearch-suggestion--category-header-lvl1 .algolia-docsearch-suggestion--highlight{color:inherit;background:inherit}.algolia-autocomplete .algolia-docsearch-suggestion--text .algolia-docsearch-suggestion--highlight{padding:0 0 1px;background:inherit;box-shadow:inset 0 -2px 0 0 rgba(69,142,225,.8);color:inherit}.algolia-autocomplete .algolia-docsearch-suggestion--content{display:block;float:right;width:70%;position:relative;padding:5.33333px 0 5.33333px 10.66667px;cursor:pointer}.algolia-autocomplete .algolia-docsearch-suggestion--content:before{content:"";position:absolute;display:block;top:0;height:100%;width:1px;background:#ececec;left:-1px}.algolia-autocomplete .algolia-docsearch-suggestion--category-header{position:relative;display:none;font-size:14px;letter-spacing:.08em;font-weight:700;background-color:#373940;text-transform:uppercase;color:#fff;margin:0;padding:5px 8px}.algolia-autocomplete .algolia-docsearch-suggestion--wrapper{background-color:#fff;width:100%;float:left;padding:8px 0 0}.algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column{float:left;width:30%;display:none;text-align:right;position:relative;padding:5.33333px 10.66667px;color:#777;font-size:.9em;word-wrap:break-word}.algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column:before{content:"";position:absolute;display:block;top:0;height:100%;width:1px;background:#ececec;right:0}.algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column .algolia-docsearch-suggestion--highlight{background-color:inherit;color:inherit}.algolia-autocomplete .algolia-docsearch-suggestion--subcategory-inline{display:none}.algolia-autocomplete .algolia-docsearch-suggestion--title{margin-bottom:4px;color:#02060c;font-size:.9em;font-weight:700}.algolia-autocomplete .algolia-docsearch-suggestion--text{display:block;line-height:1.2em;font-size:.85em;color:#63676d;padding-right:2px}.algolia-autocomplete .algolia-docsearch-suggestion--no-results{width:100%;padding:8px 0;text-align:center;font-size:1.2em;background-color:#373940;margin-top:-8px}.algolia-autocomplete .algolia-docsearch-suggestion--no-results .algolia-docsearch-suggestion--text{color:#fff;margin-top:4px}.algolia-autocomplete .algolia-docsearch-suggestion--no-results:before{display:none}.algolia-autocomplete .algolia-docsearch-suggestion code{padding:1px 5px;font-size:90%;border:none;color:#222;background-color:#ebebeb;border-radius:3px;font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}.algolia-autocomplete .algolia-docsearch-suggestion code .algolia-docsearch-suggestion--highlight{background:none}.algolia-autocomplete .algolia-docsearch-suggestion.algolia-docsearch-suggestion__main .algolia-docsearch-suggestion--category-header,.algolia-autocomplete .algolia-docsearch-suggestion.algolia-docsearch-suggestion__secondary .algolia-docsearch-suggestion--subcategory-column{display:block}.algolia-autocomplete .algolia-docsearch-footer{background-color:#fff;width:100%;height:30px;z-index:2000;float:right;font-size:0;line-height:0}.algolia-autocomplete .algolia-docsearch-footer--logo{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 130 18"><defs><linearGradient id="a" x1="-36.87%" x2="129.43%" y1="134.94%" y2="-27.7%"><stop stop-color="%2300AEFF" offset="0%"/><stop stop-color="%233369E7" offset="100%"/></linearGradient></defs><g fill="none" fill-rule="evenodd"><path fill="url(%23a)" d="M59.4.02h13.3a2.37 2.37 0 0 1 2.38 2.37V15.6a2.37 2.37 0 0 1-2.38 2.36H59.4a2.37 2.37 0 0 1-2.38-2.36V2.38A2.37 2.37 0 0 1 59.4.02z"/><path fill="%23FFF" d="M66.26 4.56c-2.82 0-5.1 2.27-5.1 5.08 0 2.8 2.28 5.07 5.1 5.07 2.8 0 5.1-2.26 5.1-5.07 0-2.8-2.28-5.07-5.1-5.07zm0 8.65c-2 0-3.6-1.6-3.6-3.56 0-1.97 1.6-3.58 3.6-3.58 1.98 0 3.6 1.6 3.6 3.58a3.58 3.58 0 0 1-3.6 3.57zm0-6.4v2.66c0 .07.08.13.15.1l2.4-1.24c.04-.02.06-.1.03-.14a2.96 2.96 0 0 0-2.46-1.5c-.06 0-.1.05-.1.1zm-3.33-1.96l-.3-.3a.78.78 0 0 0-1.12 0l-.36.36a.77.77 0 0 0 0 1.1l.3.3c.05.05.13.04.17 0 .2-.25.4-.5.6-.7.23-.23.46-.43.7-.6.07-.04.07-.1.03-.16zm5-.8V3.4a.78.78 0 0 0-.78-.78h-1.83a.78.78 0 0 0-.78.78v.63c0 .07.06.12.14.1a5.74 5.74 0 0 1 1.58-.22c.52 0 1.04.07 1.54.2a.1.1 0 0 0 .13-.1z"/><path fill="%23182359" d="M102.16 13.76c0 1.46-.37 2.52-1.12 3.2-.75.67-1.9 1-3.44 1-.56 0-1.74-.1-2.67-.3l.34-1.7c.78.17 1.82.2 2.36.2.86 0 1.48-.16 1.84-.5.37-.36.55-.88.55-1.57v-.35a6.37 6.37 0 0 1-.84.3 4.15 4.15 0 0 1-1.2.17 4.5 4.5 0 0 1-1.6-.28 3.38 3.38 0 0 1-1.26-.82 3.74 3.74 0 0 1-.8-1.35c-.2-.54-.3-1.5-.3-2.2 0-.67.1-1.5.3-2.06a3.92 3.92 0 0 1 .9-1.43 4.12 4.12 0 0 1 1.45-.92 5.3 5.3 0 0 1 1.94-.37c.7 0 1.35.1 1.97.2a15.86 15.86 0 0 1 1.6.33v8.46zm-5.95-4.2c0 .9.2 1.88.6 2.3.4.4.9.62 1.53.62.34 0 .66-.05.96-.15a2.75 2.75 0 0 0 .73-.33V6.7a8.53 8.53 0 0 0-1.42-.17c-.76-.02-1.36.3-1.77.8-.4.5-.62 1.4-.62 2.23zm16.13 0c0 .72-.1 1.26-.32 1.85a4.4 4.4 0 0 1-.9 1.53c-.38.42-.85.75-1.4.98-.54.24-1.4.37-1.8.37-.43 0-1.27-.13-1.8-.36a4.1 4.1 0 0 1-1.4-.97 4.5 4.5 0 0 1-.92-1.52 5.04 5.04 0 0 1-.33-1.84c0-.72.1-1.4.32-2 .22-.6.53-1.1.92-1.5.4-.43.86-.75 1.4-.98a4.55 4.55 0 0 1 1.78-.34 4.7 4.7 0 0 1 1.8.34c.54.23 1 .55 1.4.97.38.42.68.92.9 1.5.23.6.35 1.3.35 2zm-2.2 0c0-.92-.2-1.7-.6-2.22-.38-.54-.94-.8-1.64-.8-.72 0-1.27.26-1.67.8-.4.54-.58 1.3-.58 2.22 0 .93.2 1.56.6 2.1.38.54.94.8 1.64.8s1.25-.26 1.65-.8c.4-.55.6-1.17.6-2.1zm6.97 4.7c-3.5.02-3.5-2.8-3.5-3.27L113.57.92l2.15-.34v10c0 .25 0 1.87 1.37 1.88v1.8zm3.77 0h-2.15v-9.2l2.15-.33v9.54zM119.8 3.74c.7 0 1.3-.58 1.3-1.3 0-.7-.58-1.3-1.3-1.3-.73 0-1.3.6-1.3 1.3 0 .72.58 1.3 1.3 1.3zm6.43 1c.7 0 1.3.1 1.78.27.5.18.88.42 1.17.73.28.3.5.74.6 1.18.13.46.2.95.2 1.5v5.47a25.24 25.24 0 0 1-1.5.25c-.67.1-1.42.15-2.25.15a6.83 6.83 0 0 1-1.52-.16 3.2 3.2 0 0 1-1.18-.5 2.46 2.46 0 0 1-.76-.9c-.18-.37-.27-.9-.27-1.44 0-.52.1-.85.3-1.2.2-.37.48-.67.83-.9a3.6 3.6 0 0 1 1.23-.5 7.07 7.07 0 0 1 2.2-.1l.83.16v-.35c0-.25-.03-.48-.1-.7a1.5 1.5 0 0 0-.3-.58c-.15-.18-.34-.3-.58-.4a2.54 2.54 0 0 0-.92-.17c-.5 0-.94.06-1.35.13-.4.08-.75.16-1 .25l-.27-1.74c.27-.1.67-.18 1.2-.28a9.34 9.34 0 0 1 1.65-.14zm.18 7.74c.66 0 1.15-.04 1.5-.1V10.2a5.1 5.1 0 0 0-2-.1c-.23.03-.45.1-.64.2a1.17 1.17 0 0 0-.47.38c-.13.17-.18.26-.18.52 0 .5.17.8.5.98.32.2.74.3 1.3.3zM84.1 4.8c.72 0 1.3.08 1.8.26.48.17.87.42 1.15.73.3.3.5.72.6 1.17.14.45.2.94.2 1.47v5.48a25.24 25.24 0 0 1-1.5.26c-.67.1-1.42.14-2.25.14a6.83 6.83 0 0 1-1.52-.16 3.2 3.2 0 0 1-1.18-.5 2.46 2.46 0 0 1-.76-.9c-.18-.38-.27-.9-.27-1.44 0-.53.1-.86.3-1.22.2-.36.5-.65.84-.88a3.6 3.6 0 0 1 1.24-.5 7.07 7.07 0 0 1 2.2-.1c.26.03.54.08.84.15v-.35c0-.24-.03-.48-.1-.7a1.5 1.5 0 0 0-.3-.58c-.15-.17-.34-.3-.58-.4a2.54 2.54 0 0 0-.9-.15c-.5 0-.96.05-1.37.12-.4.07-.75.15-1 .24l-.26-1.75c.27-.08.67-.17 1.18-.26a8.9 8.9 0 0 1 1.66-.15zm.2 7.73c.65 0 1.14-.04 1.48-.1v-2.17a5.1 5.1 0 0 0-1.98-.1c-.24.03-.46.1-.65.18a1.17 1.17 0 0 0-.47.4c-.12.17-.17.26-.17.52 0 .5.18.8.5.98.32.2.75.3 1.3.3zm8.68 1.74c-3.5 0-3.5-2.82-3.5-3.28L89.45.92 91.6.6v10c0 .25 0 1.87 1.38 1.88v1.8z"/><path fill="%231D3657" d="M5.03 11.03c0 .7-.26 1.24-.76 1.64-.5.4-1.2.6-2.1.6-.88 0-1.6-.14-2.17-.42v-1.2c.36.16.74.3 1.14.38.4.1.78.15 1.13.15.5 0 .88-.1 1.12-.3a.94.94 0 0 0 .35-.77.98.98 0 0 0-.33-.74c-.22-.2-.68-.44-1.37-.72-.72-.3-1.22-.62-1.52-1C.23 8.27.1 7.82.1 7.3c0-.65.22-1.17.7-1.55.46-.37 1.08-.56 1.86-.56.76 0 1.5.16 2.25.48l-.4 1.05c-.7-.3-1.32-.44-1.87-.44-.4 0-.73.08-.94.26a.9.9 0 0 0-.33.72c0 .2.04.38.12.52.08.15.22.3.42.4.2.14.55.3 1.06.52.58.24 1 .47 1.27.67.27.2.47.44.6.7.12.26.18.57.18.92zM9 13.27c-.92 0-1.64-.27-2.16-.8-.52-.55-.78-1.3-.78-2.24 0-.97.24-1.73.72-2.3.5-.54 1.15-.82 2-.82.78 0 1.4.25 1.85.72.46.48.7 1.14.7 1.97v.67H7.35c0 .58.17 1.02.46 1.33.3.3.7.47 1.24.47.36 0 .68-.04.98-.1a5.1 5.1 0 0 0 .98-.33v1.02a3.87 3.87 0 0 1-.94.32 5.72 5.72 0 0 1-1.08.1zm-.22-5.2c-.4 0-.73.12-.97.38s-.37.62-.42 1.1h2.7c0-.48-.13-.85-.36-1.1-.23-.26-.54-.38-.94-.38zm7.7 5.1l-.26-.84h-.05c-.28.36-.57.6-.86.74-.28.13-.65.2-1.1.2-.6 0-1.05-.16-1.38-.48-.32-.32-.5-.77-.5-1.34 0-.62.24-1.08.7-1.4.45-.3 1.14-.47 2.07-.5l1.02-.03V9.2c0-.37-.1-.65-.27-.84-.17-.2-.45-.28-.82-.28-.3 0-.6.04-.88.13a6.68 6.68 0 0 0-.8.33l-.4-.9a4.4 4.4 0 0 1 1.05-.4 4.86 4.86 0 0 1 1.08-.12c.76 0 1.33.18 1.7.5.4.33.6.85.6 1.56v4h-.9zm-1.9-.87c.47 0 .83-.13 1.1-.38.3-.26.43-.62.43-1.08v-.52l-.76.03c-.6.03-1.02.13-1.3.3s-.4.45-.4.82c0 .26.08.47.24.6.16.16.4.23.7.23zm7.57-5.2c.25 0 .46.03.62.06l-.12 1.18a2.38 2.38 0 0 0-.56-.06c-.5 0-.92.16-1.24.5-.3.32-.47.75-.47 1.27v3.1h-1.27V7.23h1l.16 1.05h.05c.2-.36.45-.64.77-.85a1.83 1.83 0 0 1 1.02-.3zm4.12 6.17c-.9 0-1.58-.27-2.05-.8-.47-.52-.7-1.27-.7-2.25 0-1 .24-1.77.73-2.3.5-.54 1.2-.8 2.12-.8.63 0 1.2.1 1.7.34l-.4 1c-.52-.2-.96-.3-1.3-.3-1.04 0-1.55.68-1.55 2.05 0 .67.13 1.17.38 1.5.26.34.64.5 1.13.5a3.23 3.23 0 0 0 1.6-.4v1.1a2.53 2.53 0 0 1-.73.28 4.36 4.36 0 0 1-.93.08zm8.28-.1h-1.27V9.5c0-.45-.1-.8-.28-1.02-.18-.23-.47-.34-.88-.34-.53 0-.9.16-1.16.48-.25.3-.38.85-.38 1.6v2.94h-1.26V4.8h1.26v2.12c0 .34-.02.7-.06 1.1h.08a1.76 1.76 0 0 1 .72-.67c.3-.16.66-.24 1.07-.24 1.43 0 2.15.74 2.15 2.2v3.86zM42.2 7.1c.74 0 1.32.28 1.73.82.4.53.62 1.3.62 2.26 0 .97-.2 1.73-.63 2.27-.42.54-1 .82-1.75.82s-1.33-.27-1.75-.8h-.08l-.23.7h-.94V4.8h1.26v2l-.02.64-.03.56h.05c.4-.6 1-.9 1.78-.9zm-.33 1.04c-.5 0-.88.15-1.1.45-.22.3-.34.8-.35 1.5v.08c0 .72.12 1.24.35 1.57.23.32.6.48 1.12.48.44 0 .78-.17 1-.53.24-.35.36-.87.36-1.53 0-1.35-.47-2.03-1.4-2.03zm3.24-.92h1.4l1.2 3.37c.18.47.3.92.36 1.34h.04l.18-.72 1.37-4H51l-2.53 6.73c-.46 1.23-1.23 1.85-2.3 1.85-.3 0-.56-.03-.83-.1v-1c.2.05.4.08.65.08.6 0 1.03-.36 1.28-1.06l.22-.56-2.4-5.94z"/></g></svg>');background-repeat:no-repeat;background-position:50%;background-size:100%;overflow:hidden;text-indent:-9000px;width:110px;height:100%;display:block;margin-left:auto;margin-right:5px}</style><meta name="generator" content="Gatsby 2.24.47"><style id="glamor-styles">.css-1tv5sxm,[data-css-1tv5sxm]{flex:1 0 auto;margin-top:60px;-webkit-flex:1 0 auto;}@media (min-width: 780px) and (max-width: 1279px){.css-1tv5sxm,[data-css-1tv5sxm]{margin-top:50px;}}@media (max-width: 779px){.css-1tv5sxm,[data-css-1tv5sxm]{margin-top:40px;}}.css-190hivd,[data-css-190hivd]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;min-height:calc(100vh - 40px);-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;}.css-f5odvb,[data-css-f5odvb]{height:60px;font-size:20px;padding:20px;text-align:center;}@media (min-width: 600px) and (max-width: 1279px){.css-f5odvb,[data-css-f5odvb]{font-size:22px;height:60px;}}@media (max-width: 599px){.css-f5odvb,[data-css-f5odvb]{height:80px;}}@media (min-width: 780px){.css-f5odvb,[data-css-f5odvb]{font-size:25px;}}.css-184keb2,[data-css-184keb2]{color:inherit;margin-left:10px;font-weight:700;font-size:20px;line-height:20px;}@media (max-width: 979px){.css-184keb2,[data-css-184keb2]{font-size:16px;margin-top:1px;}}@media (max-width: 599px){.css-184keb2,[data-css-184keb2]{position:absolute;overflow:hidden;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;border:0;}}.css-4ivotw,[data-css-4ivotw]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;margin-right:10px;height:100%;align-items:center;color:#61dafb;-webkit-box-align:center;-webkit-align-items:center;}.css-4ivotw:focus,[data-css-4ivotw]:focus{outline:0;color:#ffffff;}@media (min-width: 600px){.css-4ivotw,[data-css-4ivotw]{width:calc(100% / 6);}}@media (max-width: 599px){.css-4ivotw,[data-css-4ivotw]{flex:0 0 auto;-webkit-flex:0 0 auto;}}.css-79txt3,[data-css-79txt3]{flex:1;display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;align-items:stretch;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;height:100%;scrollbar-width:none;-ms-overflow-style:none;-webkit-flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-box-align:stretch;-webkit-align-items:stretch;}.css-79txt3::-webkit-scrollbar,[data-css-79txt3]::-webkit-scrollbar{display:none;}@media (min-width: 0px) and (max-width: 599px){.css-79txt3,[data-css-79txt3]{flex-grow:1;width:auto;-webkit-flex-grow:1;}}@media (max-width: 599px){.css-79txt3,[data-css-79txt3]{mask-image:-webkit-linear-gradient(to right, transparent, black 20px, black 90%, transparent); mask-image: -moz-linear-gradient(to right, transparent, black 20px, black 90%, transparent); mask-image: linear-gradient(to right, transparent, black 20px, black 90%, transparent);-webkit-mask-image:-webkit-linear-gradient(to right, transparent, black 20px, black 90%, transparent); -webkit-mask-image: -moz-linear-gradient(to right, transparent, black 20px, black 90%, transparent); -webkit-mask-image: linear-gradient(to right, transparent, black 20px, black 90%, transparent);}}.css-zvm479,[data-css-zvm479]{padding:5px 10px;white-space:nowrap;font-size:14px;}.css-zvm479:hover,[data-css-zvm479]:hover{color:#61dafb;}.css-zvm479:focus,[data-css-zvm479]:focus{outline:0;background-color:#373940;border-radius:15px;}@media (max-width: 779px){.css-zvm479,[data-css-zvm479]{display:none;}}.css-1rsw1pf,[data-css-1rsw1pf]{margin-left:0.5rem;}@media (max-width: 779px){.css-1rsw1pf,[data-css-1rsw1pf]{display:none;}}.css-1upvlu3,[data-css-1upvlu3]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;align-items:center;padding:5px 10px;white-space:nowrap;font-size:14px;-webkit-box-align:center;-webkit-align-items:center;}.css-1upvlu3:hover,[data-css-1upvlu3]:hover{color:#61dafb;}.css-1upvlu3:focus,[data-css-1upvlu3]:focus{outline:0;background-color:#373940;border-radius:15px;}.css-6oo1gu,[data-css-6oo1gu]{padding:5px 10px;margin-left:10px;white-space:nowrap;font-size:14px;}.css-6oo1gu:hover,[data-css-6oo1gu]:hover{color:#61dafb;}.css-6oo1gu:focus,[data-css-6oo1gu]:focus{outline:0;background-color:#373940;border-radius:15px;}@media (max-width: 979px){.css-6oo1gu,[data-css-6oo1gu]{display:none;}}.css-nypjs8,[data-css-nypjs8]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;align-items:center;justify-content:flex-end;width:auto;-webkit-box-align:center;-webkit-align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;}.css-iiezwn,[data-css-iiezwn]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;align-items:center;height:60px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;}@media (min-width: 600px) and (max-width: 1279px){.css-iiezwn,[data-css-iiezwn]{height:50px;}}@media (max-width: 599px){.css-iiezwn,[data-css-iiezwn]{height:40px;}}.css-19rsoyj,[data-css-19rsoyj]{background-color:#20232a;color:#ffffff;position:fixed;z-index:1;width:100%;top:0;left:0;}@media print{.css-19rsoyj,[data-css-19rsoyj]{display:none;}}.css-tctv7l,[data-css-tctv7l]{padding-left:20px;padding-right:20px;margin-left:auto;margin-right:auto;}@media (min-width: 780px){.css-tctv7l,[data-css-tctv7l]{width:90%;}}@media (min-width: 1340px){.css-tctv7l,[data-css-tctv7l]{max-width:1260px;}}.css-hobwqm,[data-css-hobwqm]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;align-items:center;color:#ffffff;transition:color 0.2s ease-out;padding-left:15px;padding-right:15px;font-weight:300;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-webkit-transition:color 0.2s ease-out;-moz-transition:color 0.2s ease-out;}.css-hobwqm:focus,[data-css-hobwqm]:focus{outline:0;background-color:#373940;color:#ffffff;}@media (min-width: 0px) and (max-width: 599px){.css-hobwqm,[data-css-hobwqm]{padding-left:8px;padding-right:8px;}}@media (min-width: 600px) and (max-width: 979px){.css-hobwqm,[data-css-hobwqm]{padding-left:10px;padding-right:10px;}}@media (min-width: 1280px){.css-hobwqm,[data-css-hobwqm]{padding-left:20px;padding-right:20px;font-size:18px;}.css-hobwqm:hover:not(:focus),[data-css-hobwqm]:hover:not(:focus){color:#61dafb;}}.css-7dpbpx,[data-css-7dpbpx]{width:100%;appearance:none;background:transparent;border:0;color:#ffffff;font-size:18px;font-weight:300;font-family:inherit;position:relative;padding:4px 4px 4px 29px;background-image:url(../search.svg);background-size:16px 16px;background-repeat:no-repeat;background-position-y:center;background-position-x:4px;-webkit-appearance:none;-moz-appearance:none;}.css-7dpbpx:focus,[data-css-7dpbpx]:focus{outline:0;background-color:#373940;border-radius:0.25rem;}@media (max-width: 1179px){.css-7dpbpx,[data-css-7dpbpx]{font-size:16px;width:16px;transition:width 0.2s ease, padding 0.2s ease;padding-left:16px;-webkit-transition:width 0.2s ease, padding 0.2s ease;-moz-transition:width 0.2s ease, padding 0.2s ease;}.css-7dpbpx:focus,[data-css-7dpbpx]:focus{padding-left:29px;width:8rem;outline:none;}}.css-7vmqep,[data-css-7vmqep]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex:0 0 auto;flex-direction:row;align-items:center;padding-left:0.25rem;padding-right:0.25rem;-webkit-flex:0 0 auto;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;}@media (max-width: 1179px){.css-7vmqep,[data-css-7vmqep]{justify-content:flex-end;margin-right:10px;-webkit-box-pack:end;-webkit-justify-content:flex-end;}}@media (min-width: 1180px){.css-7vmqep,[data-css-7vmqep]{min-width:100px;width:calc(100% / 5);}}.css-c4d79v,[data-css-c4d79v]{fill:currentColor;}.css-19vhmgv,[data-css-19vhmgv]{margin-left:5px;vertical-align:-2px;color:#6d6d6d;}.css-15lkjjo,[data-css-15lkjjo]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;flex-grow:1;flex-shrink:0;flex-basis:auto;justify-content:stretch;align-items:flex-start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-webkit-flex-grow:1;-webkit-flex-shrink:0;-webkit-flex-basis:auto;-webkit-box-pack:stretch;-webkit-justify-content:stretch;-webkit-box-align:start;-webkit-align-items:flex-start;}.css-1q9mcvr,[data-css-1q9mcvr]{flex-wrap:wrap;display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;-webkit-box-lines:multiple;-webkit-flex-wrap:wrap;}@media (max-width: 979px){.css-1q9mcvr,[data-css-1q9mcvr]{width:100%;}}@media (min-width: 1280px){.css-1q9mcvr,[data-css-1q9mcvr]{width:calc(100% / 3 * 2);padding-left:40px;}}.css-1izr7si,[data-css-1izr7si]{max-width:160px;height:auto;}.css-1yy5aal,[data-css-1yy5aal]{color:#999;padding-top:15px;}.css-vn0yrr,[data-css-vn0yrr]{background-color:#20232a;color:#ffffff;padding-top:10px;padding-bottom:50px;}@media (min-width: 2000px){.css-vn0yrr,[data-css-vn0yrr]{padding-top:40px;}}@media print{.css-vn0yrr,[data-css-vn0yrr]{display:none;}}.css-1m3wp4q,[data-css-1m3wp4q]{display:-webkit-inline-box; display: -moz-inline-box; display: -ms-inline-flexbox; display: -webkit-inline-flex; display: inline-flex;flex-direction:column;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;}.css-12bsqfj,[data-css-12bsqfj]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;align-items:flex-start;width:50%;padding-top:40px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;}@media (min-width: 2000px){.css-12bsqfj,[data-css-12bsqfj]{padding-top:0;width:25%;}}.css-krwajx,[data-css-krwajx]{color:#999;font-size:14px;font-weight:700;line-height:3;text-transform:uppercase;text-align:start;letter-spacing:0.08em;}.css-8l81zy,[data-css-8l81zy]{line-height:2;}.css-8l81zy:hover,[data-css-8l81zy]:hover{color:#61dafb;}.css-83uoqv,[data-css-83uoqv]{vertical-align:-2px;display:inline-block;margin-left:5px;color:#6d6d6d;}@media (min-width: 600px){.css-2y24fj,[data-css-2y24fj]{position:absolute;bottom:-1px;height:4px;background:#61dafb;left:0;right:0;z-index:1;}}.css-li68ai,[data-css-li68ai]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;align-items:center;color:#61dafb;transition:color 0.2s ease-out;padding-left:15px;padding-right:15px;font-weight:300;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-webkit-transition:color 0.2s ease-out;-moz-transition:color 0.2s ease-out;}.css-li68ai:focus,[data-css-li68ai]:focus{outline:0;background-color:#373940;color:#ffffff;}@media (min-width: 0px) and (max-width: 599px){.css-li68ai,[data-css-li68ai]{padding-left:8px;padding-right:8px;}}@media (min-width: 600px) and (max-width: 979px){.css-li68ai,[data-css-li68ai]{padding-left:10px;padding-right:10px;}}@media (min-width: 1280px){.css-li68ai,[data-css-li68ai]{padding-left:20px;padding-right:20px;font-size:18px;}.css-li68ai:hover:not(:focus),[data-css-li68ai]:hover:not(:focus){color:#61dafb;}}@media (min-width: 600px){.css-li68ai,[data-css-li68ai]{position:relative;}}.css-lypyba,[data-css-lypyba]{line-height:25px;}.css-lypyba .gatsby-highlight,[data-css-lypyba] .gatsby-highlight{margin-top:25px;margin-left:-30px;margin-right:-30px;margin-bottom:25px;padding-left:15px;padding-right:15px;}.css-lypyba a:not(.anchor):not(.gatsby-resp-image-link),[data-css-lypyba] a:not(.anchor):not(.gatsby-resp-image-link){background-color:rgba(187,239,253,0.3);border-bottom:1px solid rgba(0,0,0,0.2);color:#1a1a1a;}.css-lypyba a:not(.anchor):not(.gatsby-resp-image-link):hover,[data-css-lypyba] a:not(.anchor):not(.gatsby-resp-image-link):hover{background-color:#bbeffd;border-bottom-color:#1a1a1a;}.css-lypyba > p:first-child,[data-css-lypyba] > p:first-child{font-size:18px;font-weight:300;color:#6d6d6d;}.css-lypyba > p:first-child a,[data-css-lypyba] > p:first-child a, .css-lypyba > p:first-child strong, [data-css-lypyba] > p:first-child strong{font-weight:400;}.css-lypyba p,[data-css-lypyba] p{margin-top:30px;font-size:17px;line-height:1.7;max-width:42em;}.css-lypyba p:first-of-type,[data-css-lypyba] p:first-of-type{margin-top:15px;}.css-lypyba p:first-child,[data-css-lypyba] p:first-child{margin-top:0;}.css-lypyba h3 + p,[data-css-lypyba] h3 + p, .css-lypyba h3 + p:first-of-type, [data-css-lypyba] h3 + p:first-of-type{margin-top:20px;}.css-lypyba p > code,[data-css-lypyba] p > code, .css-lypyba li > code, [data-css-lypyba] li > code{background:rgba(255,229,100,0.2);color:#1a1a1a;}.css-lypyba p > code,[data-css-lypyba] p > code, .css-lypyba li > code, [data-css-lypyba] li > code, .css-lypyba p > a > code, [data-css-lypyba] p > a > code, .css-lypyba li > a > code, [data-css-lypyba] li > a > code{padding:0 3px;font-size:0.94em;word-break:break-word;}.css-lypyba hr,[data-css-lypyba] hr{height:1px;margin-bottom:-1px;border:none;border-bottom:1px solid #ececec;margin-top:40px;}.css-lypyba hr:first-child,[data-css-lypyba] hr:first-child{margin-top:0;}.css-lypyba h1,[data-css-lypyba] h1{line-height:1.2;}.css-lypyba h2::before,[data-css-lypyba] h2::before{content:" ";display:block;border-bottom:1px solid #ececec;padding-top:44px;margin-bottom:40px;}.css-lypyba h2,[data-css-lypyba] h2{line-height:1.2;scroll-margin-top:120px;}.css-lypyba h2:first-child::before,[data-css-lypyba] h2:first-child::before{content:" ";display:block;border-bottom:0;padding-top:40px;margin-top:-80px;}.css-lypyba hr + h2,[data-css-lypyba] hr + h2{border-top:0;margin-top:0;}.css-lypyba h3::before,[data-css-lypyba] h3::before{content:" ";display:block;padding-top:90px;margin-top:-45px;}.css-lypyba h2 + h3::before,[data-css-lypyba] h2 + h3::before, .css-lypyba h2 + h3:first-of-type::before, [data-css-lypyba] h2 + h3:first-of-type::before{content:" ";display:block;padding-top:60px;margin-top:-30px;}.css-lypyba h4::before,[data-css-lypyba] h4::before{content:" ";display:block;padding-top:100px;margin-top:-50px;}.css-lypyba h4,[data-css-lypyba] h4{font-size:20px;color:#6d6d6d;line-height:1.3;font-weight:400;}.css-lypyba h4 + p,[data-css-lypyba] h4 + p{margin-top:20px;}.css-lypyba ol,[data-css-lypyba] ol, .css-lypyba ul, [data-css-lypyba] ul{margin-top:20px;font-size:16px;color:#1a1a1a;padding-left:20px;}.css-lypyba ol p,[data-css-lypyba] ol p, .css-lypyba ul p, [data-css-lypyba] ul p, .css-lypyba ol p:first-of-type, [data-css-lypyba] ol p:first-of-type,  .css-lypyba ul p:first-of-type,  [data-css-lypyba] ul p:first-of-type{font-size:16px;margin-top:0;line-height:1.2;}.css-lypyba ol li,[data-css-lypyba] ol li, .css-lypyba ul li, [data-css-lypyba] ul li{margin-top:10px;}.css-lypyba ol li.button-newapp,[data-css-lypyba] ol li.button-newapp, .css-lypyba ul li.button-newapp, [data-css-lypyba] ul li.button-newapp{margin-top:0;}.css-lypyba ol ol,[data-css-lypyba] ol ol, .css-lypyba ul ol, [data-css-lypyba] ul ol, .css-lypyba ol ul, [data-css-lypyba] ol ul,  .css-lypyba ul ul,  [data-css-lypyba] ul ul{margin-left:20px;margin-top:10px;}.css-lypyba img,[data-css-lypyba] img{max-width:100%;}.css-lypyba ol,[data-css-lypyba] ol{list-style:decimal;}.css-lypyba ul,[data-css-lypyba] ul{list-style:disc;}.css-lypyba blockquote,[data-css-lypyba] blockquote{background-color:rgba(255,229,100,0.3);border-left-color:#ffe564;border-left-width:9px;border-left-style:solid;padding:20px 45px 20px 26px;margin-bottom:30px;margin-top:20px;margin-left:-30px;margin-right:-30px;}.css-lypyba blockquote p,[data-css-lypyba] blockquote p{margin-top:15px;}.css-lypyba blockquote p:first-of-type,[data-css-lypyba] blockquote p:first-of-type{font-weight:700;margin-top:0;}.css-lypyba blockquote p:nth-of-type(2),[data-css-lypyba] blockquote p:nth-of-type(2){margin-top:0;}.css-lypyba blockquote .gatsby-highlight,[data-css-lypyba] blockquote .gatsby-highlight{margin-left:0;}.css-lypyba .gatsby-highlight + blockquote,[data-css-lypyba] .gatsby-highlight + blockquote{margin-top:40px;}.css-lypyba .gatsby-highlight + h4::before,[data-css-lypyba] .gatsby-highlight + h4::before{content:" ";display:block;padding-top:85px;margin-top:-60px;}@media (max-width: 599px){.css-lypyba .gatsby-highlight,[data-css-lypyba] .gatsby-highlight{margin-left:-20px;margin-right:-20px;border-radius:0;}.css-lypyba h3,[data-css-lypyba] h3{overflow-wrap:break-word;word-break:break-word;}.css-lypyba blockquote,[data-css-lypyba] blockquote{margin-left:-20px;margin-right:-20px;}}@media (min-width: 1280px){.css-lypyba > p:first-child,[data-css-lypyba] > p:first-child{font-size:24px;}.css-lypyba h1,[data-css-lypyba] h1{font-size:60px;}.css-lypyba h2,[data-css-lypyba] h2{font-size:35px;}.css-lypyba h3,[data-css-lypyba] h3{font-size:25px;line-height:1.3;}}@media (max-width: 979px){.css-lypyba p,[data-css-lypyba] p{font-size:16px;margin-top:25px;}.css-lypyba h2,[data-css-lypyba] h2{font-size:20px;}}@media (min-width: 0px) and (max-width: 599px){.css-lypyba h1,[data-css-lypyba] h1{font-size:30px;}}@media (min-width: 600px) and (max-width: 1279px){.css-lypyba h1,[data-css-lypyba] h1{font-size:45px;}}.css-k7orbq,[data-css-k7orbq]{white-space:nowrap;padding-bottom:1em;margin-right:36px;display:inline-block;color:#6d6d6d;}.css-1epz0fh,[data-css-1epz0fh]{color:#373940;border-color:#ececec;transition:color 0.2s ease, border-color 0.2s ease;white-space:nowrap;border-bottom-width:1px;border-bottom-style:solid;-webkit-transition:color 0.2s ease, border-color 0.2s ease;-moz-transition:color 0.2s ease, border-color 0.2s ease;}.css-1epz0fh:hover,[data-css-1epz0fh]:hover{color:#1a1a1a;border-color:#1a1a1a;}.css-1epz0fh:focus,[data-css-1epz0fh]:focus{color:#1a1a1a;border-color:#1a1a1a;}.css-1m173d1,[data-css-1m173d1]{margin-top:80px;}.css-124oy3v,[data-css-124oy3v]{margin-top:40px;margin-bottom:120px;}@media (min-width: 780px){.css-124oy3v,[data-css-124oy3v]{margin-top:50px;}}.css-1kbu8hg,[data-css-1kbu8hg]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;}@media (min-width: 600px){.css-1kbu8hg,[data-css-1kbu8hg]{border-left:1px solid #ececec;margin-left:80px;}}@media (min-width: 600px) and (max-width: 1339px){.css-1kbu8hg,[data-css-1kbu8hg]{flex:0 0 200px;margin-left:80px;-webkit-flex:0 0 200px;}}@media (min-width: 600px) and (max-width: 979px){.css-1kbu8hg,[data-css-1kbu8hg]{margin-left:40px;}}@media (min-width: 1100px){.css-1kbu8hg,[data-css-1kbu8hg]{flex:0 0 300px;-webkit-flex:0 0 300px;}}@media (min-width: 2000px){.css-1kbu8hg,[data-css-1kbu8hg]{position:fixed;right:0;width:300px;z-index:2;}}.css-10335ra,[data-css-10335ra]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;min-height:calc(100vh - 60px);}@media (min-width: 2000px){.css-10335ra,[data-css-10335ra]{max-width:840px;margin-left:auto;margin-right:auto;}}@media (max-width: 599px){.css-10335ra,[data-css-10335ra]{flex-direction:column;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;}}.css-12vsfho,[data-css-12vsfho]{flex:1 0 auto;-webkit-flex:1 0 auto;}.css-5v0gxc,[data-css-5v0gxc]{width:100%;flex:1 0 auto;position:relative;z-index:0;-webkit-flex:1 0 auto;}.css-95xunl,[data-css-95xunl]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;flex-grow:1;flex-shrink:0;flex-basis:auto;justify-content:flex-start;align-items:stretch;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-webkit-flex-grow:1;-webkit-flex-shrink:0;-webkit-flex-basis:auto;-webkit-box-pack:start;-webkit-justify-content:flex-start;-webkit-box-align:stretch;-webkit-align-items:stretch;}.css-174qq1k,[data-css-174qq1k]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;flex-grow:1;flex-shrink:1;flex-basis:auto;justify-content:flex-start;align-items:stretch;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-webkit-flex-grow:1;-webkit-flex-shrink:1;-webkit-flex-basis:auto;-webkit-box-pack:start;-webkit-justify-content:flex-start;-webkit-box-align:stretch;-webkit-align-items:stretch;}.css-uc6gzo,[data-css-uc6gzo]{color:#282c34;margin-bottom:0;margin-top:100px;font-size:60px;line-height:65px;font-weight:700;}@media (max-width: 599px){.css-uc6gzo,[data-css-uc6gzo]{overflow-wrap:break-word;word-break:break-word;}}@media (max-width: 779px){.css-uc6gzo,[data-css-uc6gzo]{font-size:40px;line-height:45px;}}@media (min-width: 780px) and (max-width: 979px){.css-uc6gzo,[data-css-uc6gzo]{margin-top:100px;}}@media (min-width: 980px){.css-uc6gzo,[data-css-uc6gzo]{margin-top:100px;}}.css-hgc6lu,[data-css-hgc6lu]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;flex-grow:0;flex-shrink:1;flex-basis:auto;justify-content:space-between;align-items:baseline;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-flex-grow:0;-webkit-flex-shrink:1;-webkit-flex-basis:auto;-webkit-box-pack:justify;-webkit-justify-content:space-between;-webkit-box-align:baseline;-webkit-align-items:baseline;}.css-15scox9,[data-css-15scox9]{transform:translateY(0.1em);-webkit-transform:translateY(0.1em);}.css-bbeeea,[data-css-bbeeea]{border:0;background:none;cursor:pointer;margin-left:6px;}.css-bbeeea:focus,[data-css-bbeeea]:focus{color:#1a1a1a;border-color:#1a1a1a;}.css-bbeeea:focus svg,[data-css-bbeeea]:focus svg{fill:#1a1a1a;}.css-bbeeea:hover,[data-css-bbeeea]:hover{color:#1a1a1a;border-color:#1a1a1a;}.css-bbeeea:hover svg,[data-css-bbeeea]:hover svg{fill:#1a1a1a;}.css-bbeeea svg,[data-css-bbeeea] svg{height:1.5em;width:1.5em;fill:#6d6d6d;transition:fill 0.2s ease;-webkit-transition:fill 0.2s ease;-moz-transition:fill 0.2s ease;}.css-shr7pv,[data-css-shr7pv]{transform:scale(-1, -1) translateY(-.6em);-webkit-transform:scale(-1, -1) translateY(-.6em);}.css-8ypg2d,[data-css-8ypg2d]{border:0;background:none;cursor:pointer;margin-left:3px;}.css-8ypg2d:focus,[data-css-8ypg2d]:focus{color:#1a1a1a;border-color:#1a1a1a;}.css-8ypg2d:focus svg,[data-css-8ypg2d]:focus svg{fill:#1a1a1a;}.css-8ypg2d:hover,[data-css-8ypg2d]:hover{color:#1a1a1a;border-color:#1a1a1a;}.css-8ypg2d:hover svg,[data-css-8ypg2d]:hover svg{fill:#1a1a1a;}.css-8ypg2d svg,[data-css-8ypg2d] svg{height:1.5em;width:1.5em;fill:#6d6d6d;transition:fill 0.2s ease;-webkit-transition:fill 0.2s ease;-moz-transition:fill 0.2s ease;}.css-1ui44mx,[data-css-1ui44mx]{margin-top:80px;}@media (min-width: 0px) and (max-width: 599px){.css-1ui44mx,[data-css-1ui44mx]{margin-top:60px;}}@media (min-width: 600px) and (max-width: 979px){.css-1ui44mx,[data-css-1ui44mx]{margin-top:70px;}}@media (min-width: 780px) and (max-width: 1279px){.css-1ui44mx,[data-css-1ui44mx]{margin-top:70px;}}@media (min-width: 600px){.css-1ui44mx,[data-css-1ui44mx]{transform:none !important;-webkit-transform:none !important;}}@media (max-width: 599px){.css-1fketik,[data-css-1fketik]{top:60px;left:0;bottom:0;right:0;position:fixed;background-color:#ffffff;z-index:2;height:100vh;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:none;}}@media (min-width: 780px){.css-1fketik,[data-css-1fketik]{margin-right:-999px;padding-right:999px;background-color:#f7f7f7;}}@media (min-width: 780px) and (max-width: 1999px){.css-1fketik,[data-css-1fketik]{position:fixed;z-index:2;height:100%;}}@media (min-width: 600px){.css-1fketik,[data-css-1fketik]{position:fixed;z-index:2;height:calc(100vh - 60px);overflow-y:auto;-webkit-overflow-scrolling:touch;margin-right:-999px;padding-right:999px;background-color:#f7f7f7;opacity:1 !important;}}@media (min-width: 600px) and (max-width: 779px){.css-1fketik,[data-css-1fketik]{height:calc(100vh - 40px);}}@media (min-width: 780px) and (max-width: 1279px){.css-1fketik,[data-css-1fketik]{height:calc(100vh - 50px);}}@media (min-width: 2000px){.css-1fketik,[data-css-1fketik]{border-left:1px solid #ececec;}}.css-1dgtft4,[data-css-1dgtft4]{width:20px;height:20px;align-self:center;display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;color:#61dafb;-webkit-align-self:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;}.css-7ef8f8,[data-css-7ef8f8]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;align-items:center;height:60px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;}@media (min-width: 780px) and (max-width: 1279px){.css-7ef8f8,[data-css-7ef8f8]{height:50px;}}@media (max-width: 599px){.css-7ef8f8,[data-css-7ef8f8]{height:60px;overflow:hidden;align-items:flex-start;-webkit-box-align:start;-webkit-align-items:flex-start;}}.css-yx40kw,[data-css-yx40kw]{background-color:#20232a;bottom:44px;color:#61dafb;display:none;cursor:pointer;position:fixed;right:20px;z-index:3;border-radius:50%;border:1px solid rgba(255, 255, 255, 0.1);box-shadow:0 0 20px rgba(0, 0, 0, 0.3);}@media (max-width: 599px){.css-yx40kw,[data-css-yx40kw]{display:inline-block;}}.css-7stz2q,[data-css-7stz2q]{width:100%;padding-left:20px;position:relative;}@media (min-width: 1100px){.css-7stz2q,[data-css-7stz2q]{padding-left:40px;}}@media (max-width: 599px){.css-7stz2q,[data-css-7stz2q]{padding-bottom:100px;}}.css-1aai96l,[data-css-1aai96l]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;flex-grow:0;flex-shrink:1;flex-basis:auto;justify-content:flex-start;align-items:stretch;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-webkit-flex-grow:0;-webkit-flex-shrink:1;-webkit-flex-basis:auto;-webkit-box-pack:start;-webkit-justify-content:flex-start;-webkit-box-align:stretch;-webkit-align-items:stretch;}.css-1j8jxus,[data-css-1j8jxus]{cursor:pointer;background-color:transparent;border:0;margin-top:10px;}.css-19pur11,[data-css-19pur11]{color:#1a1a1a;display:inline-block;border-bottom:1px solid transparent;transition:border 0.2s ease;margin-top:5px;-webkit-transition:border 0.2s ease;-moz-transition:border 0.2s ease;}.css-19pur11:hover,[data-css-19pur11]:hover{color:#6d6d6d;}.css-atv6j6,[data-css-atv6j6]{margin-top:5px;}.css-14d3mgr,[data-css-14d3mgr]{font-feature-settings:'tnum';margin-bottom:10px;-webkit-font-feature-settings:'tnum';}@media (min-width: 600px){.css-14d3mgr,[data-css-14d3mgr]{display:none;}}.css-19nz7r4,[data-css-19nz7r4]{color:#6d6d6d;font-size:14px;font-weight:700;line-height:3;text-transform:uppercase;text-align:start;letter-spacing:0.08em;}@media (min-width: 600px){.css-19nz7r4,[data-css-19nz7r4]{color:#6d6d6d;padding-right:7px;padding-left:7px;}.css-19nz7r4:hover,[data-css-19nz7r4]:hover{color:#1a1a1a;}}.css-1jiuhrf,[data-css-1jiuhrf]{margin-left:7px;transform:rotateX(0deg);transition:-webkit-transform 0.2s ease,transform 0.2s ease;-webkit-transform:rotateX(0deg);-webkit-transition:-webkit-transform 0.2s ease,transform 0.2s ease;-moz-transition:transform 0.2s ease;}@media (max-width: 599px){.css-1jiuhrf,[data-css-1jiuhrf]{display:none;}}.css-ifgy4z,[data-css-ifgy4z]{width:4px;height:25px;border-left:4px solid #61dafb;padding-left:16px;position:absolute;left:0;margin-top:-3px;}@media (min-width: 1100px){.css-ifgy4z,[data-css-ifgy4z]{left:15px;}}.css-1b7a3df,[data-css-1b7a3df]{color:#1a1a1a;display:inline-block;border-bottom:1px solid transparent;transition:border 0.2s ease;margin-top:5px;font-weight:700;-webkit-transition:border 0.2s ease;-moz-transition:border 0.2s ease;}.css-1b7a3df:hover,[data-css-1b7a3df]:hover{color:#6d6d6d;}.css-ts0qly,[data-css-ts0qly]{font-feature-settings:'tnum';margin-bottom:10px;-webkit-font-feature-settings:'tnum';}@media (min-width: 600px){.css-ts0qly,[data-css-ts0qly]{display:block;}}.css-qa0wkv,[data-css-qa0wkv]{color:#6d6d6d;font-size:14px;font-weight:700;line-height:3;text-transform:uppercase;text-align:start;letter-spacing:0.08em;}@media (min-width: 600px){.css-qa0wkv,[data-css-qa0wkv]{color:#1a1a1a;padding-right:7px;padding-left:7px;}.css-qa0wkv:hover,[data-css-qa0wkv]:hover{color:#1a1a1a;}}.css-1mwek35,[data-css-1mwek35]{margin-left:7px;transform:rotateX(180deg);transition:-webkit-transform 0.2s ease,transform 0.2s ease;-webkit-transform:rotateX(180deg);-webkit-transition:-webkit-transform 0.2s ease,transform 0.2s ease;-moz-transition:transform 0.2s ease;}@media (max-width: 599px){.css-1mwek35,[data-css-1mwek35]{display:none;}}.css-140tz9x,[data-css-140tz9x]{margin-left:20px;}.css-sg9l1i,[data-css-sg9l1i]{transform:translate(2px, -4px) rotate(180deg);transition:-webkit-transform 0.2s ease,transform 0.2s ease;-webkit-transform:translate(2px, -4px) rotate(180deg);-webkit-transition:-webkit-transform 0.2s ease,transform 0.2s ease;-moz-transition:transform 0.2s ease;}.css-o1zbu3,[data-css-o1zbu3]{transform:translate(2px, 4px);transition:-webkit-transform 0.2s ease,transform 0.2s ease;-webkit-transform:translate(2px, 4px);-webkit-transition:-webkit-transform 0.2s ease,transform 0.2s ease;-moz-transition:transform 0.2s ease;}.css-1gz2d9j,[data-css-1gz2d9j]{padding-top:10px;}@media (min-width: 600px) and (max-width: 979px){.css-15o825x,[data-css-15o825x]{padding-right:240px;}}@media (min-width: 980px) and (max-width: 1339px){.css-15o825x,[data-css-15o825x]{padding-right:280px;}}@media (min-width: 1100px) and (max-width: 1999px){.css-15o825x,[data-css-15o825x]{padding-right:380px;}}.css-uygc5k,[data-css-uygc5k]{background:#282c34;color:#ffffff;padding-top:50px;padding-bottom:50px;}.css-lhap5,[data-css-lhap5]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;flex-grow:0;flex-shrink:1;flex-basis:auto;justify-content:space-between;align-items:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-flex-grow:0;-webkit-flex-shrink:1;-webkit-flex-basis:auto;-webkit-box-pack:justify;-webkit-justify-content:space-between;-webkit-box-align:start;-webkit-align-items:flex-start;}.css-k2v7we,[data-css-k2v7we]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;flex-grow:0;flex-shrink:1;flex-basis:50%;justify-content:flex-start;align-items:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-flex-grow:0;-webkit-flex-shrink:1;-webkit-flex-basis:50%;-webkit-box-pack:start;-webkit-justify-content:flex-start;-webkit-box-align:start;-webkit-align-items:flex-start;}.css-i3b7x6,[data-css-i3b7x6]{color:#61dafb;font-size:14px;}.css-1k1lek8,[data-css-1k1lek8]{display:inline;border-color:#6d6d6d;transition:border-color 0.2s ease;font-size:30px;border-bottom-width:1px;border-bottom-style:solid;-webkit-transition:border-color 0.2s ease;-moz-transition:border-color 0.2s ease;}.css-1k1lek8:hover,[data-css-1k1lek8]:hover{border-color:#ffffff;}@media (max-width: 979px){.css-1k1lek8,[data-css-1k1lek8]{font-size:24px;}}@media (min-width: 0px) and (max-width: 599px){.css-1k1lek8,[data-css-1k1lek8]{font-size:16px;}}.css-1ac8j74,[data-css-1ac8j74]{padding-top:40px;display:block !important;}@media (min-width: 1280px){.css-1ac8j74,[data-css-1ac8j74]{width:calc(100% / 3);order:-1;-webkit-order:-1;}}@media (min-width: 980px){.css-1ac8j74,[data-css-1ac8j74]{order:-1;-webkit-order:-1;}}@media (max-width: 979px){.css-1ac8j74,[data-css-1ac8j74]{text-align:center;width:100%;padding-top:40px;}}.css-ftk3jl,[data-css-ftk3jl]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;flex-wrap:wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-box-lines:multiple;-webkit-flex-wrap:wrap;}@media (min-width: 600px) and (max-width: 979px){.css-ftk3jl,[data-css-ftk3jl]{padding-right:240px;}}@media (min-width: 980px) and (max-width: 1339px){.css-ftk3jl,[data-css-ftk3jl]{padding-right:280px;}}@media (min-width: 1100px) and (max-width: 1999px){.css-ftk3jl,[data-css-ftk3jl]{padding-right:380px;}}</style><script id="glamor-ids">
        // <![CDATA[
        window._glamor = ["1tv5sxm","190hivd","f5odvb","184keb2","4ivotw","79txt3","zvm479","1rsw1pf","1upvlu3","6oo1gu","nypjs8","iiezwn","19rsoyj","tctv7l","hobwqm","7dpbpx","7vmqep","c4d79v","19vhmgv","15lkjjo","1q9mcvr","1izr7si","1yy5aal","vn0yrr","1m3wp4q","12bsqfj","krwajx","8l81zy","83uoqv","2y24fj","li68ai","lypyba","k7orbq","1epz0fh","1m173d1","124oy3v","1kbu8hg","10335ra","12vsfho","5v0gxc","95xunl","174qq1k","uc6gzo","hgc6lu","15scox9","bbeeea","shr7pv","8ypg2d","1ui44mx","1fketik","1dgtft4","7ef8f8","yx40kw","7stz2q","1aai96l","1j8jxus","19pur11","atv6j6","14d3mgr","19nz7r4","1jiuhrf","ifgy4z","1b7a3df","ts0qly","qa0wkv","1mwek35","140tz9x","sg9l1i","o1zbu3","1gz2d9j","15o825x","uygc5k","lhap5","k2v7we","i3b7x6","1k1lek8","1ac8j74","ftk3jl"]
        // ]]>
        </script><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="../about/analytics/index.htm"><link rel="dns-prefetch" href="../about/analytics/index.htm"><link rel="alternate" type="application/rss+xml" href="../feed.xml"><title data-react-helmet="true">FAQ des Hooks – React</title><link data-react-helmet="true" rel="canonical" href="hooks-faq.html"><link data-react-helmet="true" rel="alternate" href="hooks-faq-1.html" hreflang="x-default"><link data-react-helmet="true" rel="alternate" hreflang="en" href="hooks-faq-1.html"><link data-react-helmet="true" rel="alternate" hreflang="ar" href="hooks-faq-2.html"><link data-react-helmet="true" rel="alternate" hreflang="az" href="hooks-faq-3.html"><link data-react-helmet="true" rel="alternate" hreflang="es" href="hooks-faq-4.html"><link data-react-helmet="true" rel="alternate" hreflang="fr" href="hooks-faq.html"><link data-react-helmet="true" rel="alternate" hreflang="hu" href="hooks-faq-5.html"><link data-react-helmet="true" rel="alternate" hreflang="it" href="hooks-faq-6.html"><link data-react-helmet="true" rel="alternate" hreflang="ja" href="hooks-faq-7.html"><link data-react-helmet="true" rel="alternate" hreflang="ko" href="hooks-faq-8.html"><link data-react-helmet="true" rel="alternate" hreflang="mn" href="hooks-faq-9.html"><link data-react-helmet="true" rel="alternate" hreflang="pl" href="hooks-faq-10.html"><link data-react-helmet="true" rel="alternate" hreflang="pt-br" href="hooks-faq-11.html"><link data-react-helmet="true" rel="alternate" hreflang="ru" href="hooks-faq-12.html"><link data-react-helmet="true" rel="alternate" hreflang="tr" href="hooks-faq-13.html"><link data-react-helmet="true" rel="alternate" hreflang="uk" href="hooks-faq-14.html"><link data-react-helmet="true" rel="alternate" hreflang="zh-hans" href="hooks-faq-15.html"><link data-react-helmet="true" rel="alternate" hreflang="zh-hant" href="hooks-faq-16.html"><meta data-react-helmet="true" property="og:title" content="FAQ des Hooks – React"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="og:url" content="https://fr.reactjs.org/docs/hooks-faq.html"><meta data-react-helmet="true" property="og:image" content="https://fr.reactjs.org/logo-og.png"><meta data-react-helmet="true" property="og:description" content="Une bibliothèque JavaScript pour créer des interfaces utilisateurs"><meta data-react-helmet="true" property="fb:app_id" content="623268441017527"><link rel="icon" href="../favicon-32x32.png?v=f4d46f030265b4c48a05c999b8d93791" type="image/png"><link rel="manifest" href="../manifest.webmanifest"><meta name="theme-color" content="#20232a"><link rel="apple-touch-icon" sizes="48x48" href="../icons/icon-48x48.png?v=f4d46f030265b4c48a05c999b8d93791"><link rel="apple-touch-icon" sizes="72x72" href="../icons/icon-72x72.png?v=f4d46f030265b4c48a05c999b8d93791"><link rel="apple-touch-icon" sizes="96x96" href="../icons/icon-96x96.png?v=f4d46f030265b4c48a05c999b8d93791"><link rel="apple-touch-icon" sizes="144x144" href="../icons/icon-144x144.png?v=f4d46f030265b4c48a05c999b8d93791"><link rel="apple-touch-icon" sizes="192x192" href="../icons/icon-192x192.png?v=f4d46f030265b4c48a05c999b8d93791"><link rel="apple-touch-icon" sizes="256x256" href="../icons/icon-256x256.png?v=f4d46f030265b4c48a05c999b8d93791"><link rel="apple-touch-icon" sizes="384x384" href="../icons/icon-384x384.png?v=f4d46f030265b4c48a05c999b8d93791"><link rel="apple-touch-icon" sizes="512x512" href="../icons/icon-512x512.png?v=f4d46f030265b4c48a05c999b8d93791"><link as="script" rel="preload" href="../webpack-runtime-a441fab2ee56d38e5cbf.js"><link as="script" rel="preload" href="../framework-e47d9c53f7d3acd32cd4.js"><link as="script" rel="preload" href="../styles-fb708593b484b04b1765.js"><link as="script" rel="preload" href="../app-41c2e49cc07a3028a0fe.js"><link as="script" rel="preload" href="../commons-1d864ef2768b7d6f94a0.js"><link as="script" rel="preload" href="../3e8f09252b6028beb8baf8cc63801156f5861675-52ade79e8109d5f7a856.js"><link as="script" rel="preload" href="../1ed44328c19c4a4d76fd533f20afa4a4705f4d6f-dd12561757731965efe3.js"><link as="script" rel="preload" href="../component---src-templates-docs-js-e7ab2d4c231b268c390d.js"><link as="fetch" rel="preload" href="../page-data/docs/hooks-faq.html/page-data.json" crossorigin="anonymous"><link as="fetch" rel="preload" href="../page-data/app-data.json" crossorigin="anonymous"></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="css-190hivd"><header class="css-19rsoyj"><div class="css-tctv7l"><div class="css-f5odvb">Black Lives Matter.<!-- --> <a style="color:#61dafb" target="_blank" rel="noopener" href="../give/153413/index.htm#!/donation/checkout">Soutenez la Equal Justice Initiative.</a></div></div><div class="css-tctv7l"><div class="css-iiezwn"><a class="css-4ivotw" href="/"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K" alt="" height="20"><span class="css-184keb2">React</span></a><nav class="css-79txt3"><a class="css-li68ai" href="getting-started.html">Docs<span class="css-2y24fj"></span></a><a class="css-hobwqm" href="/tutorial/tutorial.html">Tutoriel</a><a class="css-hobwqm" href="/blog/">Blog</a><a class="css-hobwqm" href="/community/support.html">Communauté</a></nav><form class="css-7vmqep"><input type="search" id="algolia-doc-search" placeholder="Recherche" aria-label="Rechercher dans la doc" class="css-7dpbpx"></form><div class="css-nypjs8"><a class="css-zvm479" href="/versions">v<!-- -->17.0.2</a><a class="css-1upvlu3" href="/languages"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z " class="css-c4d79v"></path></svg> <span class="css-1rsw1pf">Langues</span></a><a href="../facebook/react/index.htm" target="_blank" rel="noopener" class="css-6oo1gu">GitHub<svg x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="css-19vhmgv"><path fill="currentColor" d="
      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
    "></path><polygon fill="currentColor" points="
      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
      14.9 62.8,22.9 71.5,22.9
      "></polygon></svg></a></div></div></div></header><div class="css-1tv5sxm css-15lkjjo"><div class="css-5v0gxc css-95xunl"><div class="css-12vsfho"><div class="css-tctv7l"><div class="css-10335ra"><article class="css-174qq1k"><header class="css-hgc6lu"><h1 class="css-uc6gzo">FAQ des Hooks</h1></header><div class="css-124oy3v"><div class="css-lypyba"><p>Les <em>Hooks</em> sont une nouveauté de React 16.8. Ils permettent de bénéficier d’un état local et d’autres fonctionnalités de React sans avoir à écrire de classes.</p>
<p>Cette page contient les réponses aux questions les plus fréquentes sur les <a href="hooks-overview.html">Hooks</a>.</p>
<!--
  if you ever need to regenerate this, this snippet in the devtools console might help:

  $$('.anchor').map(a =>
    `${' '.repeat(2 * +a.parentNode.nodeName.slice(1))}` +
    `[${a.parentNode.textContent}](${a.getAttribute('href')})`
  ).join('\n')
-->
<ul>
<li>
<p><strong><a href="#adoption-strategy">Stratégie d’adoption</a></strong></p>
<ul>
<li><a href="#which-versions-of-react-include-hooks">Quelles versions de React incluent les Hooks ?</a></li>
<li><a href="#do-i-need-to-rewrite-all-my-class-components">Dois-je réécrire tous mes composants à base de classe ?</a></li>
<li><a href="#what-can-i-do-with-hooks-that-i-couldnt-with-classes">Que puis-je faire avec les Hooks qu’il est impossible de faire avec des classes ?</a></li>
<li><a href="#how-much-of-my-react-knowledge-stays-relevant">Quelle proportion de mes connaissances en React reste pertinente ?</a></li>
<li><a href="#should-i-use-hooks-classes-or-a-mix-of-both">Dois-je utiliser des Hooks, des classes ou un mélange des deux ?</a></li>
<li><a href="#do-hooks-cover-all-use-cases-for-classes">Est-ce que les Hooks couvrent tous les cas d’utilisation des classes ?</a></li>
<li><a href="#do-hooks-replace-render-props-and-higher-order-components">Est-ce que les Hooks remplacent les props de rendu et les composants d’ordre supérieur ?</a></li>
<li><a href="#what-do-hooks-mean-for-popular-apis-like-redux-connect-and-react-router">Qu’est-ce que les Hooks changent pour les API populaires telles que Redux <code class="gatsby-code-text">connect()</code> et React Router ?</a></li>
<li><a href="#do-hooks-work-with-static-typing">Est-ce que les Hooks sont compatibles avec le typage statique ?</a></li>
<li><a href="#how-to-test-components-that-use-hooks">Comment tester des composants utilisant des Hooks ?</a></li>
<li><a href="#what-exactly-do-the-lint-rules-enforce">Qu’est-ce que les règles de linting imposent ?</a></li>
</ul>
</li>
<li>
<p><strong><a href="#from-classes-to-hooks">Des classes aux Hooks</a></strong></p>
<ul>
<li><a href="#how-do-lifecycle-methods-correspond-to-hooks">Quelles sont les correspondances entre les méthodes de cycle de vie et les Hooks ?</a></li>
<li><a href="#how-can-i-do-data-fetching-with-hooks">Comment charger des données distantes avec les Hooks ?</a></li>
<li><a href="#is-there-something-like-instance-variables">Existe-t-il un équivalent aux variables d’instances ?</a></li>
<li><a href="#should-i-use-one-or-many-state-variables">Dois-je utiliser une ou plusieurs variables d’état local ?</a></li>
<li><a href="#can-i-run-an-effect-only-on-updates">Puis-je exécuter un effet seulement lors des mises à jour ?</a></li>
<li><a href="#how-to-get-the-previous-props-or-state">Comment récupérer les props ou l’état local précédents ?</a></li>
<li><a href="#why-am-i-seeing-stale-props-or-state-inside-my-function">Pourquoi vois-je des props ou un état local obsolètes dans ma fonction ?</a></li>
<li><a href="#how-do-i-implement-getderivedstatefromprops">Comment puis-je implémenter <code class="gatsby-code-text">getDerivedStateFromProps</code> ?</a></li>
<li><a href="#is-there-something-like-forceupdate">Existe-t-il un équivalent à <code class="gatsby-code-text">forceUpdate</code> ?</a></li>
<li><a href="#can-i-make-a-ref-to-a-function-component">Puis-je créer une ref vers une fonction composant ?</a></li>
<li><a href="#how-can-i-measure-a-dom-node">Comment puis-je mesurer un nœud DOM ?</a></li>
<li><a href="#what-does-const-thing-setthing--usestate-mean">Que signifie <code class="gatsby-code-text">const [thing, setThing] = useState()</code> ?</a></li>
</ul>
</li>
<li>
<p><strong><a href="#performance-optimizations">Optimisations des performances</a></strong></p>
<ul>
<li><a href="#can-i-skip-an-effect-on-updates">Puis-je sauter un effet lors des mises à jour ?</a></li>
<li><a href="#is-it-safe-to-omit-functions-from-the-list-of-dependencies">Est-il acceptable d’omettre les fonctions du tableau de dépendances ?</a></li>
<li><a href="#what-can-i-do-if-my-effect-dependencies-change-too-often">Que faire quand mes dépendances d’effet changent trop souvent ?</a></li>
<li><a href="#how-do-i-implement-shouldcomponentupdate">Comment puis-je implémenter <code class="gatsby-code-text">shouldComponentUpdate</code> ?</a></li>
<li><a href="#how-to-memoize-calculations">Comment mémoïser les calculs ?</a></li>
<li><a href="#how-to-create-expensive-objects-lazily">Comment créer paresseusement des objets coûteux ?</a></li>
<li><a href="#are-hooks-slow-because-of-creating-functions-in-render">La création de fonctions à la volée pendant le rendu ralentit-elle les Hooks ?</a></li>
<li><a href="#how-to-avoid-passing-callbacks-down">Comment éviter de transmettre des fonctions de rappel ?</a></li>
<li><a href="#how-to-read-an-often-changing-value-from-usecallback">Comment lire une valeur changeant fréquemment avec <code class="gatsby-code-text">useCallback</code> ?</a></li>
</ul>
</li>
<li>
<p><strong><a href="#under-the-hood">Sous le capot</a></strong></p>
<ul>
<li><a href="#how-does-react-associate-hook-calls-with-components">Comment React associe-t-il les appels de Hooks avec les composants ?</a></li>
<li><a href="#what-is-the-prior-art-for-hooks">Quelles sont les sources d’inspiration des Hooks ?</a></li>
</ul>
</li>
</ul>
<h2 id="adoption-strategy"><a href="#adoption-strategy" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Stratégie d’adoption </h2>
<h3 id="which-versions-of-react-include-hooks"><a href="#which-versions-of-react-include-hooks" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quelles versions de React incluent les Hooks ? </h3>
<p>Depuis la version 16.8.0, React embarque une implémentation stable de React Hooks pour :</p>
<ul>
<li>React DOM</li>
<li>React Native</li>
<li>React DOM Server</li>
<li>Le moteur de rendu de test de React</li>
<li>Le moteur de rendu superficiel de React</li>
</ul>
<p>Remarquez que <strong>pour activer les Hooks, tous les paquets React doivent être en version 16.8.0 ou supérieure</strong>. Les Hooks ne fonctionneront pas si vous oubliez de mettre à jour React DOM, par exemple.</p>
<p><a href="../blog/2019/03/12/releasing-react-native-059-1.html" target="_blank" rel="nofollow noopener noreferrer">React Native 0.59</a> et ultérieurs prennent en charge les Hooks.</p>
<h3 id="do-i-need-to-rewrite-all-my-class-components"><a href="#do-i-need-to-rewrite-all-my-class-components" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dois-je réécrire tous mes composants à base de classe ? </h3>
<p>Non. Il n’est <a href="hooks-intro.html#gradual-adoption-strategy">pas prévu</a> de retirer les classes de React : nous avons tous besoin de continuer à livrer nos produits et ne pouvons pas nous permettre de réécrire tout le code. Nous recommandons d’essayer les Hooks dans de nouveaux composants et projets.</p>
<h3 id="what-can-i-do-with-hooks-that-i-couldnt-with-classes"><a href="#what-can-i-do-with-hooks-that-i-couldnt-with-classes" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Que puis-je faire avec les Hooks qu’il est impossible de faire avec des classes ? </h3>
<p>Les Hooks offrent un nouveau moyen puissant et expressif de réutiliser des fonctionnalités entre composants. <a href="hooks-custom.html">« Contruire vos propres Hooks »</a> offre un aperçu des possibilités. <a href="../@dan_abramov/making-sense-of-react-hooks-fdbde8803889.html" target="_blank" rel="nofollow noopener noreferrer">Cet article</a> (en anglais) écrit par un membre de l’équipe noyau de React explore plus en détail les nouvelles possibilités apportées par les Hooks.</p>
<h3 id="how-much-of-my-react-knowledge-stays-relevant"><a href="#how-much-of-my-react-knowledge-stays-relevant" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quelle proportion de mes connaissances en React reste pertinente ? </h3>
<p>Les Hooks sont un moyen plus direct d’utiliser les fonctionnalités de React que vous connaissez déjà, telles que l’état local, le cycle de vie, le contexte et les refs. Ils ne changent pas fondamentalement la façon dont React fonctionne, et vos connaissances des composants, des props, et du flux de données descendant sont toujours valides.</p>
<p>Les Hooks ont tout de même une courbe d’apprentissage. Si quelque chose manque dans leur documentation, <a href="../login-2.html" target="_blank" rel="nofollow noopener noreferrer">créez un ticket</a> sur le dépôt GitHub et nous essaierons de vous aider.</p>
<h3 id="should-i-use-hooks-classes-or-a-mix-of-both"><a href="#should-i-use-hooks-classes-or-a-mix-of-both" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dois-je utiliser des Hooks, des classes ou un mélange des deux ? </h3>
<p>Quand vous serez prêt·e, nous vous conseillons de commencer à essayer les Hooks dans les nouveaux composants que vous écrirez. Assurez-vous que chaque membre de votre équipe soit partant·e pour les utiliser, et à l’aise avec cette documentation. Nous déconseillons de réécrire vos classes existantes avec les Hooks, sauf si vous aviez déjà prévu de les réécrire de toute façon (ex. pour corriger des bugs).</p>
<p>Vous ne pouvez pas utiliser les Hooks <em>à l’intérieur</em> d’un composant à base de classe, mais vous pouvez complètement mélanger classes et fonctions composants utilisant des Hooks dans une même arborescence. Qu’un composant soit une classe ou une fonction utilisant les Hooks ne constitue qu’un détail d’implémentation de ce composant. Sur le long terme, nous nous attendons à ce que l’essentiel des composants React soient écrits à base de Hooks.</p>
<h3 id="do-hooks-cover-all-use-cases-for-classes"><a href="#do-hooks-cover-all-use-cases-for-classes" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Est-ce que les Hooks couvrent tous les cas d’utilisation des classes ? </h3>
<p>Notre but est que les Hooks couvrent tous les cas d’utilisation des classes dès que possible. Il n’existe pas pour l’instant d’équivalent en Hook pour les méthodes de cycle de vie moins courantes que sont <code class="gatsby-code-text">getSnapshotBeforeUpdate</code>, <code class="gatsby-code-text">getDerivedStateFromError</code> et <code class="gatsby-code-text">componentDidCatch</code>, mais nous prévoyons de les ajouter rapidement.</p>
<p>Les Hooks en sont encore à leur débuts, et quelques bibliothèques tierces peuvent ne pas être compatibles avec les Hooks à l’heure actuelle.</p>
<h3 id="do-hooks-replace-render-props-and-higher-order-components"><a href="#do-hooks-replace-render-props-and-higher-order-components" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Est-ce que les Hooks remplacent les props de rendu et les composants d’ordre supérieur ? </h3>
<p>Souvent, les props de rendu et les composants d’ordre supérieur n’affichent qu’un seul enfant. Nous pensons que les Hooks simplifient ce cas d’utilisation. Ces deux approches restent pertinentes (par exemple, un composant de défilement virtuel pourrait avoir une prop <code class="gatsby-code-text">renderItem</code>, ou un composant de conteneur visuel pourrait avoir sa propre structure DOM). Mais dans la plupart des cas, les Hooks seront suffisants et pourront aider à réduire l’imbrication dans votre arborescence de composants.</p>
<h3 id="what-do-hooks-mean-for-popular-apis-like-redux-connect-and-react-router"><a href="#what-do-hooks-mean-for-popular-apis-like-redux-connect-and-react-router" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Qu’est-ce que les Hooks changent pour les API populaires telles que Redux <code class="gatsby-code-text">connect()</code> et React Router ? </h3>
<p>Vous pouvez continuer à utiliser les mêmes API que d’habitude ; elles fonctionneront toujours comme avant.</p>
<p>Depuis sa version v7.1.0, React-Redux <a href="../api/hooks.html" target="_blank" rel="nofollow noopener noreferrer">prend en charge l’API des Hooks</a> et fournit des Hooks tels que <code class="gatsby-code-text">useDispatch</code> et <code class="gatsby-code-text">useSelector</code>.</p>
<p>React Router <a href="../web/api/Hooks.html" target="_blank" rel="nofollow noopener noreferrer">prend en charge les Hooks</a> depuis sa v5.1.</p>
<p>D’autres bibliothèques pourront prendre en charge les Hooks à l’avenir.</p>
<h3 id="do-hooks-work-with-static-typing"><a href="#do-hooks-work-with-static-typing" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Est-ce que les Hooks sont compatibles avec le typage statique ? </h3>
<p>Les Hooks ont été conçus avec le typage statique à l’esprit. Comme ce sont des fonctions, il est plus facile de les typer correctement que d’autres approches telles que les composants d’ordre supérieur. Les dernières définitions Flow et TypeScript pour React prennent en charge les Hooks React.</p>
<p>Surtout, les Hooks personnalisés vous donnent la possibilité de restreindre l’API React si vous souhaitez les typer de façon plus stricte. React vous fournit des primitives, mais vous pouvez les combiner de façons différentes de celles que nous fournissons d’entrée de jeu.</p>
<h3 id="how-to-test-components-that-use-hooks"><a href="#how-to-test-components-that-use-hooks" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comment tester des composants utilisant des Hooks ? </h3>
<p>Du point de vue de React, un composant utilisant des Hooks est un composant normal. Si votre solution de test ne repose pas sur des fonctionnements internes de React, tester des composants avec des Hooks ne devrait pas être différent de la façon dont vous testez vos composants habituellement.</p>
<blockquote>
<p>Note</p>
<p><a href="testing-recipes.html">Testing Recipes</a> inclut plusieurs exemples que vous pouvez copier-coller.</p>
</blockquote>
<p>Par exemple, prenons ce composant de comptage :</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Vous avez cliqué </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> fois</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Vous avez cliqué </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text"> fois</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        Cliquez ici
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Nous le testerons en utilisant React DOM. Pour être certains que le comportement correspond à ce qui se passerait dans le navigateur, nous enroberons le code d’affichage et de mise à jour par des appels à <a href="test-utils.html#act"><code class="gatsby-code-text">ReactTestUtils.act()</code></a> :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> act <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-dom/test-utils'</span><span class="token punctuation">;</span></span><span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">'./Counter'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> container<span class="token punctuation">;</span>

<span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
  container <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'can render and update a counter'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Test du premier rendu et de son effet</span>
<span class="gatsby-highlight-code-line">  <span class="token function">act</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Counter</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> container<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token keyword">const</span> button <span class="token operator">=</span> container<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> label <span class="token operator">=</span> container<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>label<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'Vous avez cliqué 0 fois'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'Vous avez cliqué 0 fois'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Test du second rendu et de son effet</span>
<span class="gatsby-highlight-code-line">  <span class="token function">act</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    button<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MouseEvent</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>bubbles<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token function">expect</span><span class="token punctuation">(</span>label<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'Vous avez cliqué 1 fois'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">'Vous avez cliqué 1 fois'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Les appels à <code class="gatsby-code-text">act()</code> vont aussi traiter les effets qu’ils contiennent.</p>
<p>Si vous souhaitez tester un Hook personnalisé, c’est possible en créant un composant dans votre test, et en utilisant le Hook depuis celui-ci. Vous pourrez alors tester le composant que vous venez de créer.</p>
<p>Pour réduire le code générique, nous vous conseillons d’utiliser <a href="react-testing-library/intro/index.htm" target="_blank" rel="nofollow noopener noreferrer">React Testing Library</a> qui est conçu de manière à encourager l’écriture de tests utilisant les composants comme le feraient les utilisateurs finaux.</p>
<p>Pour plus d’information, consultez <a href="testing-recipes.html">Testing Recipes</a>.</p>
<h3 id="what-exactly-do-the-lint-rules-enforce"><a href="#what-exactly-do-the-lint-rules-enforce" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Qu’est-ce que les <a href="../package/eslint-plugin-react-hooks.html" target="_blank" rel="nofollow noopener noreferrer">règles de linting</a> imposent ? </h3>
<p>Nous mettons à disposition un <a href="../package/eslint-plugin-react-hooks.html" target="_blank" rel="nofollow noopener noreferrer">plugin ESlint</a> qui impose <a href="hooks-rules.html">les règles des Hooks</a> pour éviter les bugs. Il part du principe que toute fonction commençant par ”<code class="gatsby-code-text">use</code>” suivi d’une lettre majuscule est un Hook. Nous admettons que cette heuristique n’est pas parfaite et peut déclencher des faux positifs, mais sans convention au niveau de l’écosystème, il n’existe aucun moyen de faire fonctionner les Hooks correctement—et des noms plus longs décourageront l’adoption des Hooks ou le respect des conventions par la communauté.</p>
<p>En particulier, la règle impose que :</p>
<ul>
<li>Les appels de Hooks soient situés soit à l’intérieur d’une fonction nommée en casse <code class="gatsby-code-text">PascalCase</code> (supposée être un composant) ou d’une autre fonction <code class="gatsby-code-text">useSomething</code> (supposée être un Hook personnalisé).</li>
<li>Les Hooks soient appelés dans le même ordre à chaque rendu.</li>
</ul>
<p>Il existe quelques autres heuristiques, et elles changeront peut-être avec le temps, au fur et à mesure que nous peaufinons la règle pour améliorer la découverte de bugs tout en évitant les faux positifs.</p>
<h2 id="from-classes-to-hooks"><a href="#from-classes-to-hooks" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Des classes aux Hooks </h2>
<h3 id="how-do-lifecycle-methods-correspond-to-hooks"><a href="#how-do-lifecycle-methods-correspond-to-hooks" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quelles sont les correspondances entre les méthodes de cycle de vie et les Hooks ? </h3>
<ul>
<li><code class="gatsby-code-text">constructor</code> : les fonctions composants n’ont pas besoin d’un constructeur. Vous pouvez initialiser l’état local lors de l’appel à <a href="hooks-reference.html#usestate"><code class="gatsby-code-text">useState</code></a>. Si le calcul de l’état local initial est trop coûteux, vous pouvez passer une fonction à <code class="gatsby-code-text">useState</code>.</li>
<li><code class="gatsby-code-text">getDerivedStateFromProps</code> : planifiez plutôt une mise à jour <a href="#how-do-i-implement-getderivedstatefromprops">pendant le rendu</a>.</li>
<li><code class="gatsby-code-text">shouldComponentUpdate</code> : voyez <code class="gatsby-code-text">React.memo</code> <a href="#how-do-i-implement-shouldcomponentupdate">ci-dessous</a>.</li>
<li><code class="gatsby-code-text">render</code> : c’est le corps-même de la fonction composant.</li>
<li><code class="gatsby-code-text">componentDidMount</code>, <code class="gatsby-code-text">componentDidUpdate</code>, <code class="gatsby-code-text">componentWillUnmount</code> : le <a href="hooks-reference.html#useeffect">Hook <code class="gatsby-code-text">useEffect</code></a> peut exprimer toutes les combinaisons de celles-ci (y compris des cas <a href="#can-i-skip-an-effect-on-updates">moins</a> <a href="#can-i-run-an-effect-only-on-updates">fréquents</a>).</li>
<li><code class="gatsby-code-text">getSnapshotBeforeUpdate</code>, <code class="gatsby-code-text">componentDidCatch</code> et <code class="gatsby-code-text">getDerivedStateFromError</code> : il n’existe pas encore de Hook équivalent pour ces méthodes, mais ils seront ajoutés prochainement.</li>
</ul>
<h3 id="how-can-i-do-data-fetching-with-hooks"><a href="#how-can-i-do-data-fetching-with-hooks" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comment charger des données distantes avec les Hooks ? </h3>
<p>Voici une <a href="../s/jvvkoo8pq3.html" target="_blank" rel="nofollow noopener noreferrer">petite démo</a> pour vous aider à démarrer. Pour en apprendre davantage, jetez un œil à <a href="../react-hooks-fetch-data/index.htm" target="_blank" rel="nofollow noopener noreferrer">cet article</a> (en anglais) sur le chargement de données distantes avec les Hooks.</p>
<h3 id="is-there-something-like-instance-variables"><a href="#is-there-something-like-instance-variables" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Existe-t-il un équivalent aux variables d’instances ? </h3>
<p>Oui ! Le Hook <a href="hooks-reference.html#useref"><code class="gatsby-code-text">useRef()</code></a> n’est pas seulement pour les refs au DOM. L’objet “ref” est un conteneur générique dont la propriété <code class="gatsby-code-text">current</code> est modifiable et peut contenir n’importe quelle valeur, de la même façon qu’une propriété d’instance dans une classe.</p>
<p>Vous pouvez lui affecter une valeur depuis <code class="gatsby-code-text">useEffect</code> :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> intervalRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">    intervalRef<span class="token punctuation">.</span>current <span class="token operator">=</span> id<span class="token punctuation">;</span></span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">clearInterval</span><span class="token punctuation">(</span>intervalRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Si nous avions juste voulu définir une horloge, nous n’aurions pas eu besoin de la ref (<code class="gatsby-code-text">id</code> pouvait rester local à l’effet) mais ça peut être utile si nous voulons arrêter l’horloge depuis un gestionnaire d’événements.</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">  <span class="token comment">// ...</span>
  <span class="token keyword">function</span> <span class="token function">handleCancelClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token function">clearInterval</span><span class="token punctuation">(</span>intervalRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span></code></pre></div>
<p>Conceptuellement, vous pouvez vous représenter les refs comme des variables d’instance dans une classe. À moins que vous n’ayez recours à de l’<a href="#how-to-create-expensive-objects-lazily">initialisation paresseuse</a>, évitez d’écrire dans vos refs pendant le rendu : ça peut donner des comportements hasardeux. Au lieu de ça, vous voudrez généralement modifier les refs au sein de gestionnaires d’événements ou d’effets.</p>
<h3 id="should-i-use-one-or-many-state-variables"><a href="#should-i-use-one-or-many-state-variables" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dois-je utiliser une ou plusieurs variables d’état local ? </h3>
<p>Si vous avez l’habitude des classes, vous serez peut-être tenté·e de toujours appeler <code class="gatsby-code-text">useState()</code> une seule fois, en mettant tout l’état local dans un unique objet. Si vous y tenez, c’est tout à fait possible. Voici un exemple d’un composant qui piste le mouvement de la souris. Nous gardons sa position et sa taille dans l’état local :</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Maintenant, disons que nous voulons écrire un bout de code pour modifier <code class="gatsby-code-text">left</code> et <code class="gatsby-code-text">top</code> quand l’utilisateur bouge la souris. Voyez comme nous devons fusionner manuellement ces champs dans l’état local précédent :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">  <span class="token comment">// ...</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">handleWindowMouseMove</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      <span class="token comment">// La décomposition de "...state" permet de s’assurer qu’on ne « perd » pas width et height</span></span><span class="gatsby-highlight-code-line">      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">state</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> left<span class="token operator">:</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span> top<span class="token operator">:</span> e<span class="token punctuation">.</span>pageY <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token punctuation">}</span>
    <span class="token comment">// Remarque : cette implémentation est un peu simplifiée</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> handleWindowMouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> handleWindowMouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span></code></pre></div>
<p>C’est dû au fait que lorsque nous mettons à jour une variable de l’état local, nous <em>remplaçons</em> sa valeur, alors qu’avec <code class="gatsby-code-text">this.setState</code> dans une classe, on <em>fusionne</em> les champs mis à jour dans l’objet.</p>
<p>Si la fusion automatique vous manque, vous pouvez écrire un Hook personnalisé <code class="gatsby-code-text">useLegacyState</code> qui fusionne les mises à jour de l’état local. Cependant, <strong>nous recommandons plutôt de séparer l’état local en de multiple variables d’état en se basant sur celles qui ont tendance à changer de valeur ensemble</strong>.</p>
<p>Par exemple, nous pourrions découper l’état local de notre composant en deux objets <code class="gatsby-code-text">position</code> et <code class="gatsby-code-text">size</code>, et toujours remplacer la <code class="gatsby-code-text">position</code> sans avoir besoin de fusionner :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>position<span class="token punctuation">,</span> setPosition<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token keyword">const</span> <span class="token punctuation">[</span>size<span class="token punctuation">,</span> setSize<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">handleWindowMouseMove</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      <span class="token function">setPosition</span><span class="token punctuation">(</span><span class="token punctuation">{</span> left<span class="token operator">:</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span> top<span class="token operator">:</span> e<span class="token punctuation">.</span>pageY <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token punctuation">}</span>
    <span class="token comment">// ...</span></code></pre></div>
<p>Séparer les variables d’état indépendantes présente un intérêt supplémentaire : il devient facile d’extraire une partie de la logique dans un Hook personnalisé, par exemple :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> position <span class="token operator">=</span> <span class="token function">useWindowPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token keyword">const</span> <span class="token punctuation">[</span>size<span class="token punctuation">,</span> setSize<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">function</span> <span class="token function">useWindowPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>  <span class="token keyword">const</span> <span class="token punctuation">[</span>position<span class="token punctuation">,</span> setPosition<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> position<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Remarquez comme nous avons pu déplacer l’appel à <code class="gatsby-code-text">useState</code> pour la variable d’état local <code class="gatsby-code-text">position</code> et l’effet associé dans un Hook personnalisé sans rien changer au code. Si tout l’état local était un unique objet, extraire cet aspect aurait été plus difficile.</p>
<p>Les deux approches sont possibles : mettre tout l’état local dans un unique appel à <code class="gatsby-code-text">useState</code> ou avoir un appel à <code class="gatsby-code-text">useState</code> par champ. La lisibilité des composants sera fonction de l’équilibre que vous trouverez entre ces deux extrêmes, et du regroupement des états locaux associés en quelques variables d’état indépendantes. Si la logique de l’état local devient trop complexe, nous vous conseillons de plutôt la <a href="hooks-reference.html#usereducer">gérer avec un réducteur</a> ou un Hook personnalisé.</p>
<h3 id="can-i-run-an-effect-only-on-updates"><a href="#can-i-run-an-effect-only-on-updates" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Puis-je exécuter un effet seulement lors des mises à jour ? </h3>
<p>C’est un cas d’utilisation assez rare. Si vous en avez besoin, vous pouvez <a href="#is-there-something-like-instance-variables">utiliser une ref modifiable</a> pour stocker manuellement un booléen indiquant si vous êtes sur le premier rendu ou un rendu postérieur, et vérifier ensuite ce drapeau dans votre effet. (Si vous faites ça régulièrement, vous voudrez sans doute créer un Hook personnalisé pour ça.)</p>
<h3 id="how-to-get-the-previous-props-or-state"><a href="#how-to-get-the-previous-props-or-state" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comment récupérer les props ou l’état local précédents ? </h3>
<p>Actuellement, vous pouvez le faire manuellement <a href="#is-there-something-like-instance-variables">avec une ref</a> :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> prevCountRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    prevCountRef<span class="token punctuation">.</span>current <span class="token operator">=</span> count<span class="token punctuation">;</span></span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> prevCount <span class="token operator">=</span> prevCountRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span></span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Maintenant : </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text">, avant : </span><span class="token punctuation">{</span>prevCount<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Ça peut sembler un peu biscornu mais vous pouvez l’extraire dans un Hook personnalisé :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> prevCount <span class="token operator">=</span> <span class="token function">usePrevious</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Maintenant : </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text">, avant : </span><span class="token punctuation">{</span>prevCount<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">function</span> <span class="token function">usePrevious</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>  <span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    ref<span class="token punctuation">.</span>current <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> ref<span class="token punctuation">.</span>current<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Remaquez que ça fonctionne pour les props, l’état local, et toute autre valeur calculée.</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> calculation <span class="token operator">=</span> count <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> prevCalculation <span class="token operator">=</span> <span class="token function">usePrevious</span><span class="token punctuation">(</span>calculation<span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token comment">// ...</span></code></pre></div>
<p>Il est possible qu’à l’avenir React fournisse un Hook <code class="gatsby-code-text">usePrevious</code> prêt à l’emploi, puisque c’est un cas d’usage assez fréquent.</p>
<p>Voir aussi <a href="#how-do-i-implement-getderivedstatefromprops">l’approche recommandée pour un état local dérivé</a>.</p>
<h3 id="why-am-i-seeing-stale-props-or-state-inside-my-function"><a href="#why-am-i-seeing-stale-props-or-state-inside-my-function" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pourquoi vois-je des props ou un état local obsolètes dans ma fonction ? </h3>
<p>Toute fonction au sein d’un composant, y compris les gestionnaires d’événements et les effets, « voit » les props et l’état local en vigueur lors du rendu qui les a créées.  Par exemple, prenez ce genre de code :</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">handleAlertClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Vous avez cliqué à '</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Vous avez cliqué </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text"> fois</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        Cliquez ici
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleAlertClick<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        Afficher un message
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Si vous cliquez d’abord sur « Afficher un message » puis incrémentez tout de suite le compteur, le message affichera la variable <code class="gatsby-code-text">count</code> <strong>telle qu’elle était lors du clic sur le bouton « Afficher un message »</strong>.  Ça évite les bugs causés par du code qui suppose que les props et l’état local ne changent pas.</p>
<p>Si vous souhaitez explicitement lire le <strong>tout dernier</strong> état depuis une fonction de rappel asynchrone, vous pouvez le conserver dans <a href="hooks-faq.html#is-there-something-like-instance-variables">une ref</a>, la modifier puis la relire.</p>
<p>Pour finir, une autre explication possible pour vos props ou votre état périmés résiderait dans votre utilisation incorrecte de l’optimisation du hook par « tableau de dépendances », auquel il manquerait certaines valeurs.  Par exemple, si un effet indique <code class="gatsby-code-text">[]</code> comme deuxième argument mais lit <code class="gatsby-code-text">someProp</code> en interne, il continuera à « voir » la valeur initiale de <code class="gatsby-code-text">someProp</code>.  La solution consiste soit à retirer l’argument de tableau de dépendances, soit à le corriger.  Voici <a href="#is-it-safe-to-omit-functions-from-the-list-of-dependencies">comment y gérer des fonctions</a> ainsi que <a href="#what-can-i-do-if-my-effect-dependencies-change-too-often">d’autres stratégies habituelles</a> pour exécuter des effets moins souvent sans ignorer à tort des dépendances.</p>
<blockquote>
<p>Remarque</p>
<p>Nous proposons une règle ESLint <a href="../facebook/react/issues/14920.html" target="_blank" rel="nofollow noopener noreferrer"><code class="gatsby-code-text">exhaustive-deps</code></a> dans le cadre du module <a href="../package/eslint-plugin-react-hooks.html#installation" target="_blank" rel="nofollow noopener noreferrer"><code class="gatsby-code-text">eslint-plugin-react-hooks</code></a>. Elle vous avertit lorsque les dépendances spécifiées semblent incorrectes et vous propose un correctif.</p>
</blockquote>
<h3 id="how-do-i-implement-getderivedstatefromprops"><a href="#how-do-i-implement-getderivedstatefromprops" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comment puis-je implémenter <code class="gatsby-code-text">getDerivedStateFromProps</code> ? </h3>
<p>Même si vous n’en avez probablement <a href="/blog/2018/06/07/you-probably-dont-need-derived-state.html">pas besoin</a>, dans les rares cas où c’est nécessaire (comme implémenter un composant <code class="gatsby-code-text">&lt;Transition&gt;</code>) vous pouvez mettre à jour l’état local en plein rendu. React va rafraîchir le composant avec l’état local mis à jour immédiatement après être sorti du premier rendu afin que ça ne soit pas trop coûteux.</p>
<p>Ici, nous stockons la valeur précédente de la prop <code class="gatsby-code-text">row</code> dans une variable de l’état local afin que nous puissions les comparer :</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">ScrollView</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>row<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>isScrollingDown<span class="token punctuation">,</span> setIsScrollingDown<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>prevRow<span class="token punctuation">,</span> setPrevRow<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>row <span class="token operator">!==</span> prevRow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Row a changé depuis le dernier rendu. Met à jour isScrollingDown.</span>
    <span class="token function">setIsScrollingDown</span><span class="token punctuation">(</span>prevRow <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> row <span class="token operator">></span> prevRow<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setPrevRow</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">On défile vers le bas : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isScrollingDown<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Ça peut sembler étrange à première vue, mais <code class="gatsby-code-text">getDerivedStateFromProps</code> avait précisément été conçue pour des mises à jour pendant le rendu.</p>
<h3 id="is-there-something-like-forceupdate"><a href="#is-there-something-like-forceupdate" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Existe-t-il un équivalent à forceUpdate ? </h3>
<p>Les deux Hooks <code class="gatsby-code-text">useState</code> et <code class="gatsby-code-text">useReducer</code> <a href="hooks-reference.html#bailing-out-of-a-state-update">abandonnent la mise à jour</a> si la valeur suivante est la même que la valeur précédente. Modifier l’état local en place et appeler <code class="gatsby-code-text">setState</code> ne causera pas de rafraîchissement.</p>
<p>Généralement, vous ne devez pas modifier l’état local directement en React. Cependant, à titre d’échappatoire, vous pouvez maintenir un compteur incrémental pour forcer un rafraîchissement même si l’état local n’a pas changé :</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">  <span class="token keyword">const</span> <span class="token punctuation">[</span>ignored<span class="token punctuation">,</span> forceUpdate<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=></span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">forceUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span></code></pre></div>
<p>Évitez autant que possible d’utiliser cette approche.</p>
<h3 id="can-i-make-a-ref-to-a-function-component"><a href="#can-i-make-a-ref-to-a-function-component" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Puis-je créer une ref vers une fonction composant ? </h3>
<p>Vous ne devriez pas en avoir besoin souvent, mais vous pouvez exposer quelques méthodes impératives à un composant parent avec le Hook <a href="hooks-reference.html#useimperativehandle"><code class="gatsby-code-text">useImperativeHandle</code></a>.</p>
<h3 id="how-can-i-measure-a-dom-node"><a href="#how-can-i-measure-a-dom-node" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comment puis-je mesurer un nœud DOM ? </h3>
<p>Une façon rudimentaire de mesurer la position ou les dimensions d’un nœud DOM consiste à utiliser une <a href="refs-and-the-dom.html#callback-refs">ref avec fonction de rappel</a>. React appellera la fonction de rappel chaque fois que la ref est attachée à un nœud différent.  Voici une <a href="../s/l7m0v5x4v9.html" target="_blank" rel="nofollow noopener noreferrer">petite démo</a> :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">MeasureExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>height<span class="token punctuation">,</span> setHeight<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> measuredRef <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token parameter">node</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token function">setHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="gatsby-highlight-code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>measuredRef<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Bonjour, monde</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text"></span></span><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">L’en-tête ci-dessus fait </span><span class="token punctuation">{</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">px de haut</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Nous avons évité <code class="gatsby-code-text">useRef</code> dans cet exemple parce qu’un objet ref ne nous notifie pas des <em>changements</em> de la valeur actuelle de la ref.  Une ref avec fonction de rappel garantit que <a href="../s/818zzk8m78.html" target="_blank" rel="nofollow noopener noreferrer">même si un composant enfant affiche ultérieurement le nœud DOM mesuré</a> (ex. en réaction à un clic), nous serons quand même notifiés dans le composant parent et pourrons mettre les mesures à jour.</p>
<p>Remarquez que nous passons <code class="gatsby-code-text">[]</code> comme tableau de dépendances à <code class="gatsby-code-text">useCallback</code>.  C’est pour nous assurer que notre ref à fonction de rappel ne change pas d’un rendu à l’autre, afin que React ne nous appelle pas pour rien.</p>
<p>Dans cet exemple, la ref avec fonction de rappel ne sera appelée que lors du montage et du démontage du composant, puisque le composant <code class="gatsby-code-text">&lt;h1&gt;</code> reste présent d’un rendu au suivant.  Si vous souhaitez être notifié·e à chaque redimensionnement, vous voudrez peut-être utiliser <a href="../en-US/docs/Web/API/ResizeObserver.html" target="_blank" rel="nofollow noopener noreferrer"><code class="gatsby-code-text">ResizeObserver</code></a> ou un Hook tiers basé dessus.</p>
<p>Si vous le souhaitez, vous pouvez <a href="../s/m5o42082xy.html" target="_blank" rel="nofollow noopener noreferrer">extraire cette logique</a> dans un Hook réutilisable :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">MeasureExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>rect<span class="token punctuation">,</span> ref<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Bonjour, monde</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token punctuation">{</span>rect <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">L’en-tête ci-dessus fait </span><span class="token punctuation">{</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">px de haut</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
      <span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">useClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>rect<span class="token punctuation">,</span> setRect<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token parameter">node</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setRect</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>rect<span class="token punctuation">,</span> ref<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3 id="what-does-const-thing-setthing--usestate-mean"><a href="#what-does-const-thing-setthing--usestate-mean" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Que signifie <code class="gatsby-code-text">const [thing, setThing] = useState()</code> ? </h3>
<p>Si vous n’avez pas l’habitude de cette syntaxe, allez voir l’<a href="hooks-state.html#tip-what-do-square-brackets-mean">explication</a> dans la documentation du Hook d’état.</p>
<h2 id="performance-optimizations"><a href="#performance-optimizations" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Optimisations des performances </h2>
<h3 id="can-i-skip-an-effect-on-updates"><a href="#can-i-skip-an-effect-on-updates" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Puis-je sauter un effet lors des mises à jour ? </h3>
<p>Oui. Reportez-vous au <a href="hooks-reference.html#conditionally-firing-an-effect">déclenchement conditionnel d’un effet</a>. Remarquez qu’oublier de gérer des mises à jour est souvent <a href="hooks-effect.html#explanation-why-effects-run-on-each-update">source de bugs</a>, ce qui explique pourquoi ce n’est pas le comportement par défaut.</p>
<h3 id="is-it-safe-to-omit-functions-from-the-list-of-dependencies"><a href="#is-it-safe-to-omit-functions-from-the-list-of-dependencies" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Est-il acceptable d’omettre les fonctions du tableau de dépendances ? </h3>
<p>En règle générale, non.</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Example</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> someProp <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>someProp<span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token punctuation">}</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 🔴 Ce n’est pas fiable (ça appelle `doSomething` qui utilise `someProp`)</span></span><span class="token punctuation">}</span></code></pre></div>
<p>Il n’est pas facile de se souvenir du détail des props et de l’état local utilisés par les fonctions hors de l’effet. C’est pourquoi <strong>vous voudrez généralement déclarer les fonctions dont votre effet a besoin <em>à l’intérieur de celui-ci</em>.</strong>  Il devient alors facile de voir de quelles valeurs de la portée du composant dépend cet effet :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Example</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> someProp <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>someProp<span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token punctuation">}</span>

    <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>someProp<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ✅ OK (notre effet n’utilise que `someProp`)</span></span><span class="token punctuation">}</span></code></pre></div>
<p>Si après ça vous n’utilisez toujours pas de valeurs issues de la portée du composant, vous pouvez sans problème spécifier <code class="gatsby-code-text">[]</code> :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bonjour'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ✅ OK dans ce cas précis car nous n’utilisons *aucune* valeur de la portée du composant</span></span></code></pre></div>
<p>Selon votre cas, vous trouverez quelques options supplémentaires plus bas dans cette page.</p>
<blockquote>
<p>Remarque</p>
<p>Nous mettons à disposition la règle ESLint <a href="../facebook/react/issues/14920.html" target="_blank" rel="nofollow noopener noreferrer"><code class="gatsby-code-text">exhaustive-deps</code></a> dans le cadre du module <a href="../package/eslint-plugin-react-hooks.html#installation" target="_blank" rel="nofollow noopener noreferrer"><code class="gatsby-code-text">eslint-plugin-react-hooks</code></a>. Elle vous aide à trouver les composants qui ne gèrent pas correctement les mises à jour.</p>
</blockquote>
<p>Voyons en quoi c’est important.</p>
<p>Si vous précisez une <a href="hooks-reference.html#conditionally-firing-an-effect">liste de dépendances</a> comme dernier argument de <code class="gatsby-code-text">useEffect</code>, <code class="gatsby-code-text">useLayoutEffet</code>, <code class="gatsby-code-text">useMemo</code>, <code class="gatsby-code-text">useCallback</code>, ou <code class="gatsby-code-text">useImperativeHandle</code>, cette liste doit inclure toutes les valeurs utilisées dans la fonction passée qui participent au flux de données de React.  Ça inclut les props, l’état local, et toute valeur qui en découle.</p>
<p>Le <strong>seul cas</strong> pour lequel vous pouvez sereinement omettre une fonction de la liste des dépendances, c’est lorsque rien à l’intérieur (y compris dans les autres fonctions qu’elle appelle) ne référence les props, l’état local ou des valeurs qui en découlent.  L’exemple suivant a ce problème :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">ProductPage</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> productId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>product<span class="token punctuation">,</span> setProduct<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'http://myapi/product/'</span> <span class="token operator">+</span> productId<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Utilise la prop productId</span></span>    <span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setProduct</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 🔴 Erroné car `fetchProduct` utilise `productId`</span></span>  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p><strong>Le correctif recommandé consiste à déplacer la fonction <em>dans</em> votre effet</strong>.  Ça facilite le repérage des props et variables d’état que votre effet utilise, pour garantir qu’elles sont toutes déclarées :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">ProductPage</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> productId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>product<span class="token punctuation">,</span> setProduct<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token comment">// En déplaçant cette fonction dans l'effet, on voit clairement quelles valeurs il utilise.</span></span><span class="gatsby-highlight-code-line">    <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'http://myapi/product/'</span> <span class="token operator">+</span> productId<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">      <span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">      <span class="token function">setProduct</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">    <span class="token punctuation">}</span></span>
    <span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>productId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ✅ Correct car notre effet n’utilise que `productId`</span></span>  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Ça permet aussi de gérer les réponses trop tardives grâce à des variables locales à l’effet :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx">  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">let</span> ignore <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>    <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'http://myapi/product/'</span> <span class="token operator">+</span> productId<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ignore<span class="token punctuation">)</span> <span class="token function">setProduct</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token punctuation">}</span>

    <span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> ignore <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>productId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Nous avons déplacé la fonction dans l’effet, donc cette variable n’a pas à figurer dans la liste des dépendances.</p>
<blockquote>
<p>Astuce</p>
<p>Jetez un coup d’œil à <a href="../s/jvvkoo8pq3.html" target="_blank" rel="nofollow noopener noreferrer">cette petite démo</a> et <a href="../react-hooks-fetch-data/index.htm" target="_blank" rel="nofollow noopener noreferrer">cet article</a> (en anglais) pour en apprendre davantage sur le chargement de données distantes avec les Hooks.</p>
</blockquote>
<p><strong>Si pour une raison ou une autre vous ne <em>pouvez pas</em> déplacer la fonction dans l’effet, vous avez d’autres options :</strong></p>
<ul>
<li><strong>Vous pouvez essayer de déplacer la fonction hors du composant</strong>.  Dans ce cas, vous êtes sûr·e qu’elle ne pourra pas référencer des props ou variables d’état, et qu’elle n’a donc pas besoin de figurer dans la liste des dépendances.</li>
<li>Si la fonction que vous appelez est un calcul pur et qu’on peut sereinement l’appeler pendant le rendu, vous pouvez <strong>l’appeler plutôt hors de l’effet</strong> et faire dépendre l’effet de la valeur qu’elle renvoie.</li>
<li>En dernier recours, vous pouvez <strong>ajouter une fonction aux dépendances de l’effet mais <em>enrober sa définition</em></strong> dans un Hook <a href="hooks-reference.html#usecallback"><code class="gatsby-code-text">useCallback</code></a>. Ça garantit qu’elle ne changera pas à chaque rendu sauf si <em>ses propres</em> dépendances changent aussi :</li>
</ul>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">ProductPage</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> productId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token comment">// ✅ Enrobe avec useCallback pour éviter de changer à chaque rendu</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> fetchProduct <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    <span class="token comment">// ... Fait un truc avec productId ...</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>productId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ✅ Toutes les dépendances de useCallback sont spécifiées</span></span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ProductDetails</span></span> <span class="token attr-name">fetchProduct</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>fetchProduct<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">ProductDetails</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> fetchProduct <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>fetchProduct<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ✅ Toutes les dépendances de useEffect sont spécifiées</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Remarquez que dans cet exemple nous <strong>devons</strong> garder la fonction dans la liste des dépendances.  On s’assure ainsi qu’une modification à la prop <code class="gatsby-code-text">productId</code> de <code class="gatsby-code-text">ProductPage</code> déclenchera automatiquement un nouveau chargement de données distantes dans le composant <code class="gatsby-code-text">ProductDetails</code>.</p>
<h3 id="what-can-i-do-if-my-effect-dependencies-change-too-often"><a href="#what-can-i-do-if-my-effect-dependencies-change-too-often" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Que faire quand mes dépendances d’effet changent trop souvent ? </h3>
<p>Il arrive que votre effet utilise un état qui change trop fréquemment.  Vous pourriez alors être tenté·e d’omettre cet état de la liste des dépendances, mais ça engendre souvent des bugs :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Cet effet dépend de l’état `count`</span></span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">clearInterval</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 🔴 Bug : `count` n’est pas listé comme dépendance</span></span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>La liste de dépendances vide, <code class="gatsby-code-text">[]</code>, singifie que l’effet ne sera exécuté qu’une fois au montage du composant, et non à chaque rafraîchissement.  Le problème vient du fait que dans la fonction de rappel passée à <code class="gatsby-code-text">setInterval</code>, la valeur de <code class="gatsby-code-text">count</code> ne va pas changer, car on a créé une fermeture lexicale <em>(closure, NdT)</em> avec <code class="gatsby-code-text">count</code> à <code class="gatsby-code-text">0</code>, tel qu’elle était lorsque la fonction de rappel de l’effet s’est exécutée.  À chaque seconde, cette fonction appelle <code class="gatsby-code-text">setCount(0 + 1)</code>, de sorte que le compteur ne dépasse jamais 1.</p>
<p>On pourrait corriger le bug en spécifiant <code class="gatsby-code-text">[count]</code> comme liste de dépendances, mais ça réinitialiserait notre horloge à chaque modification.  En pratique, chaque <code class="gatsby-code-text">setInterval</code> aurait une chance de s’exécuter avant d’être réinitialisé (comme pour un <code class="gatsby-code-text">setTimeout</code>).  Ce n’est peut-être pas souhaitable.  Pour corriger ça, nous pouvons utiliser <a href="hooks-reference.html#functional-updates">la version basée fonction de <code class="gatsby-code-text">setState</code></a>.  Elle nous permet d’indiquer <em>comment</em> l’état change, sans référencer l’état <em>actuel</em> :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">c</span> <span class="token operator">=></span> c <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ✅ Ça ne dépend pas de la variable `count` issue de la portée</span></span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">clearInterval</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ✅ Notre effet n’utilise aucune variable issue de la portée du composant</span></span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>(L’identité de la fonction <code class="gatsby-code-text">setCount</code> est garantie stable, il est donc naturel de l’omettre.)</p>
<p>À présent, la fonction de rappel de <code class="gatsby-code-text">setInterval</code> est appelée une fois par seconde, mais à chaque fois l’appel interne à <code class="gatsby-code-text">setCount</code> peut utiliser une valeur à jour de <code class="gatsby-code-text">count</code> (appelée <code class="gatsby-code-text">c</code> dans la fonction de rappel ci-dessus).</p>
<p>Pour des cas plus complexes (comme lorsqu’un état dépend d’un autre état), essayez de déplacer la logique de mise à jour de l’état hors de l’effet avec le <a href="hooks-reference.html#usereducer">Hook <code class="gatsby-code-text">useReducer</code></a>. <a href="../blog/state-and-use-reducer" target="_blank" rel="nofollow noopener noreferrer">Cet article</a> (en anglais) vous donne un exemple de cette approche. <strong>L’identité de la fonction <code class="gatsby-code-text">dispatch</code> fournie par <code class="gatsby-code-text">useReducer</code> est garantie stable</strong>, même si la fonction de réduction est déclarée dans le composant et lit ses props.</p>
<p>En dernier recours, si vous voulez quelque chose de similaire au <code class="gatsby-code-text">this</code> d’une classe, vous pouvez <a href="hooks-faq.html#is-there-something-like-instance-variables">utiliser une ref</a> pour stocker une donnée modifiable.  Vous pouvez alors y écrire et la relire.  Par exemple :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Example</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token comment">// Garde les dernières props dans une ref.</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> latestProps <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    latestProps<span class="token punctuation">.</span>current <span class="token operator">=</span> props<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">      <span class="token comment">// Lit les dernières props en vigueur</span></span><span class="gatsby-highlight-code-line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>latestProps<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>tick<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">clearInterval</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Cet effet n’est jamais ré-exécuté</span></span><span class="token punctuation">}</span></code></pre></div>
<p>Ne faites ça que si vous n’avez pas pu trouver de meilleure solution, car se reposer sur des mutations rend les composants plus imprévisibles.  Si vous n’arrivez pas à trouver une approche adaptée pour votre besoin, <a href="../login-1.html" target="_blank" rel="nofollow noopener noreferrer">créez un ticket</a> avec un exemple exécutable de code pour que nous puissions essayer de vous aider.</p>
<h3 id="how-do-i-implement-shouldcomponentupdate"><a href="#how-do-i-implement-shouldcomponentupdate" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comment puis-je implémenter shouldComponentUpdate ? </h3>
<p>Vous pouvez enrober une fonction composant avec <code class="gatsby-code-text">React.memo</code> pour comparer superficiellement ses props :</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">const</span> Button <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">memo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// votre composant</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Ce n’est pas un Hook car ce n’est pas composable, alors que les Hooks le sont. <code class="gatsby-code-text">React.memo</code> est équivalent à <code class="gatsby-code-text">PureComponent</code>, mais ne compare que les props. (Vous pouvez aussi ajouter un second argument pour spécifier une fonction de comparaison personnalisée qui prendra en arguments les anciennes et nouvelles props. Si elle renvoie <code class="gatsby-code-text">true</code>, la mise à jour est évitée.)</p>
<p><code class="gatsby-code-text">React.memo</code> ne compare pas l’état local car il n’y a pas d’unique objet d’état local à comparer. Mais vous pouvez rendre les descendants purs également, ou même <a href="hooks-faq.html#how-to-memoize-calculations">optimiser les descendants individuellement avec <code class="gatsby-code-text">useMemo</code></a>.</p>
<h3 id="how-to-memoize-calculations"><a href="#how-to-memoize-calculations" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comment mémoïser les calculs ? </h3>
<p>Le Hook <a href="hooks-reference.html#usememo"><code class="gatsby-code-text">useMemo</code></a> vous permet de mettre en cache les calculs à travers les rendus en « se souvenant » du dernier calcul :</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">const</span> memoizedValue <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">computeExpensiveValue</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Ce code appelle <code class="gatsby-code-text">computeExpensiveValue(a, b)</code>. Mais si les dépendances <code class="gatsby-code-text">[a, b]</code> n’ont pas changé depuis la dernière fois, <code class="gatsby-code-text">useMemo</code> saute le second appel et réutilise simplement la dernière valeur renvoyée.</p>
<p>Rappelez-vous que la fonction passée à <code class="gatsby-code-text">useMemo</code> s’exécute pendant le rendu. N‘y faites rien que vous ne feriez normalement pendant le rendu. Par exemple, les effets de bord sont du ressort de <code class="gatsby-code-text">useEffect</code>, pas de <code class="gatsby-code-text">useMemo</code>.</p>
<p><strong>Vous pouvez vous appuyer sur <code class="gatsby-code-text">useMemo</code> pour les optimisations de performances, mais pas comme une garantie sémantique.</strong> À l’avenir, React pourrait très bien choisir « d’oublier » certaines valeurs préalablement mémoïsées et de les recalculer lors du rendu suivant, par exemple pour libérer de la mémoire pour les composants non visibles. Écrivez votre code de façon à ce qu’il fonctionne toujours sans <code class="gatsby-code-text">useMemo</code>, et ajoutez-le ensuite pour optimiser les performances. (Pour les rares cas où une valeur ne doit <em>jamais</em> être recalculée, vous pouvez <a href="#how-to-create-expensive-objects-lazily">l’initialiser paresseusement</a> dans une ref.)</p>
<p>Vous pouvez aussi utiliser <code class="gatsby-code-text">useMemo</code> pour éviter le rafraîchissement coûteux d’un enfant :</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// N’est rafraîchi que si `a` change :</span>
  <span class="token keyword">const</span> child1 <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Child1</span></span> <span class="token attr-name">a</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>a<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// N’est rafraîchi que si `b` change :</span>
  <span class="token keyword">const</span> child2 <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Child2</span></span> <span class="token attr-name">b</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>b<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>child1<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>child2<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Remarquez que cette approche ne fonctionne pas dans une boucle car les appels aux Hooks <a href="hooks-rules.html">ne doivent pas</a> être placés dans des boucles. Mais vous pouvez extraire la liste dans un composant à part, et appeler <code class="gatsby-code-text">useMemo</code> sur celui-ci.</p>
<h3 id="how-to-create-expensive-objects-lazily"><a href="#how-to-create-expensive-objects-lazily" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comment créer paresseusement des objets coûteux ? </h3>
<p><code class="gatsby-code-text">useMemo</code> vous permet de <a href="#how-to-memoize-calculations">mémoïser un calcul coûteux</a> si les dépendances sont les mêmes. Cependant, il n’est là que pour aider, et ne <em>garantit</em> pas que le calcul ne sera pas refait. Mais parfois vous devez vous assurer qu’un objet n’est créé qu’une seule fois.</p>
<p><strong>Le principal cas d’utilisation concerne la création d’un état initial coûteux :</strong></p>
<div class="gatsby-highlight" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Table</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ⚠️ createRows() est appelée à chaque rendu</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>rows<span class="token punctuation">,</span> setRows<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token function">createRows</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Pour éviter de recréer l’état initial ignoré, nous pouvons passer une <strong>fonction</strong> à <code class="gatsby-code-text">useState</code> :</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Table</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ✅ createRows() n'est appelée qu'une seule fois</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>rows<span class="token punctuation">,</span> setRows<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">createRows</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>React n’appelera cette fonction que lors du premier rendu. Vous trouverez de plus amples détails dans l’<a href="hooks-reference.html#usestate">API de référence de <code class="gatsby-code-text">useState</code></a>.</p>
<p><strong>Vous pouvez aussi vouloir occasionnellement éviter de recréer la valeur initiale de <code class="gatsby-code-text">useRef()</code>.</strong> Par exemple, vous voulez peut-être vous assurer qu’une instance de classe impérative n’est créée qu’une seule fois :</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Image</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ⚠️ IntersectionObserver est créé à chaque rendu</span>
  <span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span>onIntersect<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="gatsby-code-text">useRef</code> <strong>n’accepte pas</strong> un argument de fonction spécial comme pour <code class="gatsby-code-text">useState</code>. Au lieu de ça, vous pouvez écrire votre propre fonction qui la crée et la définit paresseusement :</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Image</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ✅ IntersectionObserver est créé paresseusement une seule fois</span>
  <span class="token keyword">function</span> <span class="token function">getObserver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ref<span class="token punctuation">.</span>current <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ref<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span>onIntersect<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ref<span class="token punctuation">.</span>current<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Quand vous en avez besoin, appelez getObserver()</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Ça permet d’éviter de recréer un objet coûteux tant qu’il n’est pas nécessaire. Si vous utilisez Flow ou TypeScript, vous pouvez aussi donner à <code class="gatsby-code-text">getObserver()</code> un type non-nullable pour un typage plus fin.</p>
<h3 id="are-hooks-slow-because-of-creating-functions-in-render"><a href="#are-hooks-slow-because-of-creating-functions-in-render" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>La création de fonctions à la volée pendant le rendu ralentit-elle les Hooks ? </h3>
<p>Non. Dans les navigateurs modernes, les performances brutes des fermetures lexicales comparées à celles des classes diffèrent peu, sauf dans des scénarios extrêmes.</p>
<p>Par ailleurs, gardez à l’esprit que la conception de Hooks est plus efficace pour deux raisons :</p>
<ul>
<li>Les Hooks permettent d’éviter une grande partie de la « graisse » amenée par les classes, comme le coût de la création d’instances et la liaison des gestionnaires d’événements dans le constructeur.</li>
<li><strong>Le code idiomatique utilisant des Hooks n’a pas besoin d’une imbrication profonde de composants</strong> qui prévaudrait dans des projets utilisant des composants d’ordre supérieur, des props de rendu et des contextes. Avec des arborescences plus petites, React a moins de travail à faire.</li>
</ul>
<p>Traditionnellement, les problématiques de performance associées aux fonctions définies à la volée en React sont liées au fait que passer de nouvelles fonctions de rappel à chaque rendu empêche les optimisations basées sur <code class="gatsby-code-text">shouldComponentUpdate</code> dans les composants enfants. Les Hooks abordent ce problème sous trois angles.</p>
<ul>
<li>
<p>Le Hook <a href="hooks-reference.html#usecallback"><code class="gatsby-code-text">useCallback</code></a> vous permet de référencer la même fonction de rappel d’un rendu à l’autre afin que <code class="gatsby-code-text">shouldComponentUpdate</code> puisse continuer à fonctionner :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token comment">// Ne changera pas sauf si `a` ou `b` change</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> memoizedCallback <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>  <span class="token function">doSomething</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</li>
<li>Le <a href="hooks-faq.html#how-to-memoize-calculations">Hook <code class="gatsby-code-text">useMemo</code></a> permet de contrôler plus facilement les mises à jour des enfants, réduisant le besoin de composants purs.</li>
<li>Enfin, le Hook <a href="hooks-reference.html#usereducer"><code class="gatsby-code-text">useReducer</code></a> réduit le besoin de passer en profondeur des fonctions de rappel, comme expliqué ci-dessous.</li>
</ul>
<h3 id="how-to-avoid-passing-callbacks-down"><a href="#how-to-avoid-passing-callbacks-down" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comment éviter de transmettre des fonctions de rappel ? </h3>
<p>Nous nous sommes aperçu que la majorité des gens n’aiment pas passer des fonctions de rappel à travers chaque niveau de l’arborescence. Même si c’est plus explicite, ça fait franchement « plomberie ».</p>
<p>Dans de grandes arborescences de composants, nous conseillons plutôt de transmettre une fonction <code class="gatsby-code-text">dispatch</code> issue de <a href="hooks-reference.html#usereducer"><code class="gatsby-code-text">useReducer</code></a> via le contexte :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">const</span> TodosDispatch <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">TodosApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token comment">// Remarque : `dispatch` ne va pas changer d'un rendu à l'autre</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>todos<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>todosReducer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TodosDispatch.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dispatch<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DeepTree</span></span> <span class="token attr-name">todos</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>todos<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">TodosDispatch.Provider</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>N’importe quel enfant de l’arborescence de <code class="gatsby-code-text">TodosApp</code> peut utiliser la fonction <code class="gatsby-code-text">dispatch</code> pour remonter des actions à <code class="gatsby-code-text">TodosApp</code> :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">DeepChild</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token comment">// Si nous voulons exécuter une action, nous pouvons récupérer dispatch depuis le contexte.</span></span><span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> dispatch <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>TodosDispatch<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'add'</span><span class="token punctuation">,</span> text<span class="token operator">:</span> <span class="token string">'salut'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Ajouter une tâche</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>C’est à la fois plus pratique d’un point de vue maintenance (pas besoin de continuer à passer des fonctions de rappel), et ça règle au passage le problème (de mémoïsation) des fonctions de rappel. Pour les mises à jour déclenchées en profondeur, nous conseillons de transmettre <code class="gatsby-code-text">dispatch</code> de cette façon.</p>
<p>Remarquez que vous pouvez toujours choisir de transmettre l’<em>état</em> applicatif comme props (plus explicite) ou comme contexte (plus pratique pour les mises à jour très profondes). Si vous utilisez le contexte pour transmettre également l’état local, utilisez deux types de contexte différents : la donnée de contexte <code class="gatsby-code-text">dispatch</code> ne changera jamais, donc les composants qui l’utilisent n’ont pas besoin de se rafraîchir à moins qu’ils n’aient aussi besoin de l’état applicatif.</p>
<h3 id="how-to-read-an-often-changing-value-from-usecallback"><a href="#how-to-read-an-often-changing-value-from-usecallback" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comment lire une valeur changeant fréquemment avec <code class="gatsby-code-text">useCallback</code> ? </h3>
<blockquote>
<p>Remarque</p>
<p>Nous recommandons de <a href="#how-to-avoid-passing-callbacks-down">transmettre <code class="gatsby-code-text">dispatch</code> dans le contexte</a> plutôt que des fonctions de rappel individuelles dans les props. L’approche ci-dessous n’est mentionnée que par souci d’exhaustivité et à titre d’échappatoire.</p>
<p>Notez aussi que cette approche peut causer des problèmes avec le <a href="/blog/2018/03/27/update-on-async-rendering.html">mode concurrent</a>. Nous prévoyons de proposer des alternatives plus ergonomiques à l’avenir, mais la solution la plus sûre pour l’instant consiste à toujours invalider la fonction de rappel si des valeurs dont elle dépend changent.</p>
</blockquote>
<p>Dans de rares cas vous pourriez avoir besoin de mémoïser une fonction de rappel avec <a href="hooks-reference.html#usecallback"><code class="gatsby-code-text">useCallback</code></a> mais la mémoïsation ne fonctionne pas très bien parce que la fonction interne a tout de même trop souvent besoin d’être recréée. Si la fonction que vous mémoïsez est un gestionnaire d’événements et n’est pas utilisée pendant le rendu, vous pouvez utiliser une <a href="#is-there-something-like-instance-variables">ref comme variable d’instance</a>, et y stocker manuellement la dernière valeur renvoyée :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Form</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> updateText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> textRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useLayoutEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    textRef<span class="token punctuation">.</span>current <span class="token operator">=</span> text<span class="token punctuation">;</span> <span class="token comment">// Écrit dans la ref</span></span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> handleSubmit <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token keyword">const</span> currentText <span class="token operator">=</span> textRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span> <span class="token comment">// Lit depuis la ref</span></span>    <span class="token function">alert</span><span class="token punctuation">(</span>currentText<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>textRef<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ne recrée pas handleSubmit comme `[text]` le ferait</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">updateText</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ExpensiveTree</span></span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>C’est une approche un peu biscornue mais ça montre que vous pouvez faire cette optimisation en dernier ressort, si vous en avez vraiment besoin. Vous pouvez en masquer les détails dérangeants en l’extrayant dans un Hook personnalisé :</p>
<div class="gatsby-highlight has-highlighted-lines" data-language="jsx"><pre class="gatsby-code-jsx"><code class="gatsby-code-jsx"><span class="token keyword">function</span> <span class="token function">Form</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> updateText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Sera mémoïsé même si `text` change :</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> handleSubmit <span class="token operator">=</span> <span class="token function">useEventCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>    <span class="token function">alert</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>text<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">updateText</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ExpensiveTree</span></span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text"></span>
<span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">function</span> <span class="token function">useEventCallback</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> dependencies</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>  <span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Cannot call an event handler while rendering.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    ref<span class="token punctuation">.</span>current <span class="token operator">=</span> fn<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>fn<span class="token punctuation">,</span> <span class="token operator">...</span>dependencies<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> fn <span class="token operator">=</span> ref<span class="token punctuation">.</span>current<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>ref<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Dans les deux cas, nous <strong>déconseillons cette approche</strong> et ne l’illustrons ici que dans un souci d’exhaustivité. Au lieu de ça, il est préférable d’<a href="#how-to-avoid-passing-callbacks-down">éviter de transmettre des fonctions de rappel en profondeur</a>.</p>
<h2 id="under-the-hood"><a href="#under-the-hood" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sous le capot </h2>
<h3 id="how-does-react-associate-hook-calls-with-components"><a href="#how-does-react-associate-hook-calls-with-components" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comment React associe-t-il les appels de Hooks avec les composants ? </h3>
<p>React garde trace du composant en cours de rendu. Grâce aux <a href="hooks-rules.html">règles des Hooks</a>, nous savons que les Hooks sont uniquement appelés depuis des composants React (ou des Hooks personnalisés, qui sont aussi uniquement appelés depuis des composants React).</p>
<p>Il existe une liste interne de « cellules mémoire » associées à chaque composant. Ce sont juste des objets JavaScript où nous stockons quelques données. Quand vous appelez un Hook tel que <code class="gatsby-code-text">useState()</code>, il lit la cellule courante (ou l’initialise pendant le premier rendu), et déplace alors le pointeur sur la prochaine. C’est ainsi que de multiples appels à <code class="gatsby-code-text">useState()</code> peuvent avoir chacun un état local distinct.</p>
<h3 id="what-is-the-prior-art-for-hooks"><a href="#what-is-the-prior-art-for-hooks" aria-hidden="" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewbox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quelles sont les sources d’inspiration des Hooks ? </h3>
<p>Les Hooks font la synthèse d’idées issues de plusieurs sources :</p>
<ul>
<li>Nos précédentes expériences autour d’API fonctionnelles dans le dépôt <a href="../reactjs/react-future/tree/master/07 - Returning State.html" target="_blank" rel="nofollow noopener noreferrer">react-future</a>.</li>
<li>Les expériences de la communauté React avec les API de props de rendu, notamment le <a href="../reactions/component.html" target="_blank" rel="nofollow noopener noreferrer">composant Reactions</a> de <a href="../ryanflorence.html" target="_blank" rel="nofollow noopener noreferrer">Ryan Florence</a>.</li>
<li>La proposition de <a href="../trueadm/17beb64288e30192f3aa29cad0218067.html" target="_blank" rel="nofollow noopener noreferrer">mot-clé <code class="gatsby-code-text">adopt</code></a> de <a href="../trueadm.html" target="_blank" rel="nofollow noopener noreferrer">Dominic Gannaway</a> comme sucre syntaxique pour les props de rendu.</li>
<li>Les <a href="../introduction.html" target="_blank" rel="nofollow noopener noreferrer">variables d’état et les cellules à état en DisplayScript</a>.</li>
<li>Les <a href="../reason-react/docs/fr/state-actions-reducer.html" target="_blank" rel="nofollow noopener noreferrer">composants réducteurs</a> de ReasonReact.</li>
<li>Les <a href="../rxjs/class/es6/Subscription.js~Subscription.html" target="_blank" rel="nofollow noopener noreferrer">abonnements</a> <em>(Subscriptions, NdT)</em> en Rx.</li>
<li>Les <a href="../ocamllabs/ocaml-effects-tutorial.html#2-effectful-computations-in-a-pure-setting" target="_blank" rel="nofollow noopener noreferrer">effets algébriques</a> de OCaml Multicore.</li>
</ul>
<p><a href="../sebmarkbage.html" target="_blank" rel="nofollow noopener noreferrer">Sebastian Markbåge</a> a proposé la conception initiale des Hooks, peaufinée ensuite par <a href="../acdlite.html" target="_blank" rel="nofollow noopener noreferrer">Andrew Clark</a>, <a href="../sophiebits.html" target="_blank" rel="nofollow noopener noreferrer">Sophie Alpert</a>, <a href="../trueadm.html" target="_blank" rel="nofollow noopener noreferrer">Dominic Gannaway</a> et d’autres membres de l’équipe React.</p></div><div class="css-1m173d1"><span class="css-k7orbq"><span>Avez-vous trouvé cette page utile ?<button aria-label="Oui" class="css-bbeeea"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 81.13 89.76" class="css-15scox9"><path d="M22.9 6a18.57 18.57 0 002.67 8.4 25.72 25.72 0 008.65 7.66c3.86 2 8.67 7.13 13.51 11 3.86 3.11 8.57 7.11 11.54 8.45s13.59.26 14.64 1.17c1.88 1.63 1.55 9-.11 15.25-1.61 5.86-5.96 10.55-6.48 16.86-.4 4.83-2.7 4.88-10.93 4.88h-1.35c-3.82 0-8.24 2.93-12.92 3.62a68 68 0 01-9.73.5c-3.57 0-7.86-.08-13.25-.08-3.56 0-4.71-1.83-4.71-4.48h8.42a3.51 3.51 0 000-7H12.28a2.89 2.89 0 01-2.88-2.88 1.91 1.91 0 01.77-1.78h16.46a3.51 3.51 0 000-7H12.29c-3.21 0-4.84-1.83-4.84-4a6.41 6.41 0 011.17-3.78h19.06a3.5 3.5 0 100-7H9.75A3.51 3.51 0 016 42.27a3.45 3.45 0 013.75-3.48h13.11c5.61 0 7.71-3 5.71-5.52-4.43-4.74-10.84-12.62-11-18.71-.15-6.51 2.6-7.83 5.36-8.56m0-6a6.18 6.18 0 00-1.53.2c-6.69 1.77-10 6.65-9.82 14.5.08 5.09 2.99 11.18 8.52 18.09H9.74a9.52 9.52 0 00-6.23 16.9 12.52 12.52 0 00-2.07 6.84 9.64 9.64 0 003.65 7.7 7.85 7.85 0 00-1.7 5.13 8.9 8.9 0 005.3 8.13 6 6 0 00-.26 1.76c0 6.37 4.2 10.48 10.71 10.48h13.25a73.75 73.75 0 0010.6-.56 35.89 35.89 0 007.58-2.18 17.83 17.83 0 014.48-1.34h1.35c4.69 0 7.79 0 10.5-1 3.85-1.44 6-4.59 6.41-9.38.2-2.46 1.42-4.85 2.84-7.62a41.3 41.3 0 003.42-8.13 48 48 0 001.59-10.79c.1-5.13-1-8.48-3.35-10.55-2.16-1.87-4.64-1.87-9.6-1.88a46.86 46.86 0 01-6.64-.29c-1.92-.94-5.72-4-8.51-6.3l-1.58-1.28c-1.6-1.3-3.27-2.79-4.87-4.23-3.33-3-6.47-5.79-9.61-7.45a20.2 20.2 0 01-6.43-5.53 12.44 12.44 0 01-1.72-5.36 6 6 0 00-6-5.86z"></path></svg></button><button aria-label="Non" class="css-8ypg2d"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 81.13 89.76" class="css-shr7pv"><path d="M22.9 6a18.57 18.57 0 002.67 8.4 25.72 25.72 0 008.65 7.66c3.86 2 8.67 7.13 13.51 11 3.86 3.11 8.57 7.11 11.54 8.45s13.59.26 14.64 1.17c1.88 1.63 1.55 9-.11 15.25-1.61 5.86-5.96 10.55-6.48 16.86-.4 4.83-2.7 4.88-10.93 4.88h-1.35c-3.82 0-8.24 2.93-12.92 3.62a68 68 0 01-9.73.5c-3.57 0-7.86-.08-13.25-.08-3.56 0-4.71-1.83-4.71-4.48h8.42a3.51 3.51 0 000-7H12.28a2.89 2.89 0 01-2.88-2.88 1.91 1.91 0 01.77-1.78h16.46a3.51 3.51 0 000-7H12.29c-3.21 0-4.84-1.83-4.84-4a6.41 6.41 0 011.17-3.78h19.06a3.5 3.5 0 100-7H9.75A3.51 3.51 0 016 42.27a3.45 3.45 0 013.75-3.48h13.11c5.61 0 7.71-3 5.71-5.52-4.43-4.74-10.84-12.62-11-18.71-.15-6.51 2.6-7.83 5.36-8.56m0-6a6.18 6.18 0 00-1.53.2c-6.69 1.77-10 6.65-9.82 14.5.08 5.09 2.99 11.18 8.52 18.09H9.74a9.52 9.52 0 00-6.23 16.9 12.52 12.52 0 00-2.07 6.84 9.64 9.64 0 003.65 7.7 7.85 7.85 0 00-1.7 5.13 8.9 8.9 0 005.3 8.13 6 6 0 00-.26 1.76c0 6.37 4.2 10.48 10.71 10.48h13.25a73.75 73.75 0 0010.6-.56 35.89 35.89 0 007.58-2.18 17.83 17.83 0 014.48-1.34h1.35c4.69 0 7.79 0 10.5-1 3.85-1.44 6-4.59 6.41-9.38.2-2.46 1.42-4.85 2.84-7.62a41.3 41.3 0 003.42-8.13 48 48 0 001.59-10.79c.1-5.13-1-8.48-3.35-10.55-2.16-1.87-4.64-1.87-9.6-1.88a46.86 46.86 0 01-6.64-.29c-1.92-.94-5.72-4-8.51-6.3l-1.58-1.28c-1.6-1.3-3.27-2.79-4.87-4.23-3.33-3-6.47-5.79-9.61-7.45a20.2 20.2 0 01-6.43-5.53 12.44 12.44 0 01-1.72-5.36 6 6 0 00-6-5.86z"></path></svg></button></span></span><a href="../reactjs/fr.reactjs.org/blob/main/content/docs/hooks-faq.md.html" class="css-1epz0fh">Modifier cette page</a></div></div></article><div class="css-1kbu8hg"><div><div style="opacity:0;transition:opacity 0.5s ease" class="css-1fketik"><div style="transform:translate(0px, 40px);transition:transform 0.5s ease" class="css-1ui44mx"><nav class="css-7stz2q css-1aai96l"><div><button aria-expanded="false" aria-controls="section_0641309839609626" class="css-1j8jxus"><div class="css-19nz7r4">Installation<svg viewbox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="10" height="10" class="css-1jiuhrf"><g transform="translate(904.92214,-879.1482)"><path d="
          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
          -174.68583 0.6895,0 26.281,25.03215 56.8701,
          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
          -104.0616 -231.873,-231.248 z
        " fill="currentColor"></path></g></svg></div></button><ul id="section_0641309839609626" class="css-14d3mgr"><li class="css-atv6j6"><a class="css-19pur11" href="getting-started.html">Bien démarrer</a></li><li class="css-atv6j6"><a class="css-19pur11" href="add-react-to-a-website.html">Ajouter React à un site web</a></li><li class="css-atv6j6"><a class="css-19pur11" href="create-a-new-react-app.html">Créer une nouvelle appli React</a></li><li class="css-atv6j6"><a class="css-19pur11" href="cdn-links.html">Liens CDN</a></li><li class="css-atv6j6"><a class="css-19pur11" href="release-channels.html">Canaux de sortie</a></li></ul></div><div><button aria-expanded="false" aria-controls="section_07794389990012773" class="css-1j8jxus"><div class="css-19nz7r4">Fondamentaux<svg viewbox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="10" height="10" class="css-1jiuhrf"><g transform="translate(904.92214,-879.1482)"><path d="
          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
          -174.68583 0.6895,0 26.281,25.03215 56.8701,
          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
          -104.0616 -231.873,-231.248 z
        " fill="currentColor"></path></g></svg></div></button><ul id="section_07794389990012773" class="css-14d3mgr"><li class="css-atv6j6"><a class="css-19pur11" href="hello-world.html">1. Bonjour, monde !</a></li><li class="css-atv6j6"><a class="css-19pur11" href="introducing-jsx.html">2. Introduction à JSX</a></li><li class="css-atv6j6"><a class="css-19pur11" href="rendering-elements.html">3. Le rendu des éléments</a></li><li class="css-atv6j6"><a class="css-19pur11" href="components-and-props.html">4. Composants et props</a></li><li class="css-atv6j6"><a class="css-19pur11" href="state-and-lifecycle.html">5. État et cycle de vie</a></li><li class="css-atv6j6"><a class="css-19pur11" href="handling-events.html">6. Gérer les événements</a></li><li class="css-atv6j6"><a class="css-19pur11" href="conditional-rendering.html">7. Affichage conditionnel</a></li><li class="css-atv6j6"><a class="css-19pur11" href="lists-and-keys.html">8. Listes et clés</a></li><li class="css-atv6j6"><a class="css-19pur11" href="forms.html">9. Formulaires</a></li><li class="css-atv6j6"><a class="css-19pur11" href="lifting-state-up.html">10. Faire remonter l&#x27;état</a></li><li class="css-atv6j6"><a class="css-19pur11" href="composition-vs-inheritance.html">11. Composition ou héritage ?</a></li><li class="css-atv6j6"><a class="css-19pur11" href="thinking-in-react.html">12. Penser en React</a></li></ul></div><div><button aria-expanded="false" aria-controls="section_07481444907096317" class="css-1j8jxus"><div class="css-19nz7r4">Guides avancés<svg viewbox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="10" height="10" class="css-1jiuhrf"><g transform="translate(904.92214,-879.1482)"><path d="
          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
          -174.68583 0.6895,0 26.281,25.03215 56.8701,
          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
          -104.0616 -231.873,-231.248 z
        " fill="currentColor"></path></g></svg></div></button><ul id="section_07481444907096317" class="css-14d3mgr"><li class="css-atv6j6"><a class="css-19pur11" href="accessibility.html">Accessibilité</a></li><li class="css-atv6j6"><a class="css-19pur11" href="code-splitting.html">Découpage dynamique de code</a></li><li class="css-atv6j6"><a class="css-19pur11" href="context.html">Contexte</a></li><li class="css-atv6j6"><a class="css-19pur11" href="error-boundaries.html">Périmètres d’erreurs</a></li><li class="css-atv6j6"><a class="css-19pur11" href="forwarding-refs.html">Transfert de refs</a></li><li class="css-atv6j6"><a class="css-19pur11" href="fragments.html">Fragments</a></li><li class="css-atv6j6"><a class="css-19pur11" href="higher-order-components.html">Composants d’ordre supérieur</a></li><li class="css-atv6j6"><a class="css-19pur11" href="integrating-with-other-libraries.html">Intégration avec d’autres bibliothèques</a></li><li class="css-atv6j6"><a class="css-19pur11" href="jsx-in-depth.html">JSX dans le détail</a></li><li class="css-atv6j6"><a class="css-19pur11" href="optimizing-performance.html">Optimiser les performances</a></li><li class="css-atv6j6"><a class="css-19pur11" href="portals.html">Portails</a></li><li class="css-atv6j6"><a class="css-19pur11" href="profiler.html">Profileur</a></li><li class="css-atv6j6"><a class="css-19pur11" href="react-without-es6.html">React sans ES6</a></li><li class="css-atv6j6"><a class="css-19pur11" href="react-without-jsx.html">React sans JSX</a></li><li class="css-atv6j6"><a class="css-19pur11" href="reconciliation.html">Réconciliation</a></li><li class="css-atv6j6"><a class="css-19pur11" href="refs-and-the-dom.html">Les refs et le DOM</a></li><li class="css-atv6j6"><a class="css-19pur11" href="render-props.html">Props de rendu</a></li><li class="css-atv6j6"><a class="css-19pur11" href="static-type-checking.html">Validation de types statique</a></li><li class="css-atv6j6"><a class="css-19pur11" href="strict-mode.html">Mode strict</a></li><li class="css-atv6j6"><a class="css-19pur11" href="typechecking-with-proptypes.html">Validation de types avec PropTypes</a></li><li class="css-atv6j6"><a class="css-19pur11" href="uncontrolled-components.html">Composants non-contrôlés</a></li><li class="css-atv6j6"><a class="css-19pur11" href="web-components.html">Web Components</a></li></ul></div><div><button aria-expanded="false" aria-controls="section_025666656798409493" class="css-1j8jxus"><div class="css-19nz7r4">Référence de l&#x27;API<svg viewbox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="10" height="10" class="css-1jiuhrf"><g transform="translate(904.92214,-879.1482)"><path d="
          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
          -174.68583 0.6895,0 26.281,25.03215 56.8701,
          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
          -104.0616 -231.873,-231.248 z
        " fill="currentColor"></path></g></svg></div></button><ul id="section_025666656798409493" class="css-14d3mgr"><li class="css-atv6j6"><a class="css-19pur11" href="react-api.html">React</a><ul class="css-140tz9x"><li><a class="css-19pur11" href="react-component.html">React.Component</a></li></ul></li><li class="css-atv6j6"><a class="css-19pur11" href="react-dom.html">ReactDOM</a></li><li class="css-atv6j6"><a class="css-19pur11" href="react-dom-server.html">ReactDOMServer</a></li><li class="css-atv6j6"><a class="css-19pur11" href="dom-elements.html">Éléments DOM</a></li><li class="css-atv6j6"><a class="css-19pur11" href="events.html">SyntheticEvent</a></li><li class="css-atv6j6"><a class="css-19pur11" href="test-utils.html">Utilitaires de test</a></li><li class="css-atv6j6"><a class="css-19pur11" href="test-renderer.html">Moteur de rendu de test</a></li><li class="css-atv6j6"><a class="css-19pur11" href="javascript-environment-requirements.html">Pré-requis pour l&#x27;environnement JS</a></li><li class="css-atv6j6"><a class="css-19pur11" href="glossary.html">Glossaire</a></li></ul></div><div><button aria-expanded="true" aria-controls="section_07254807090137538" class="css-1j8jxus"><div class="css-qa0wkv">Hooks<svg viewbox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="10" height="10" class="css-1mwek35"><g transform="translate(904.92214,-879.1482)"><path d="
          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
          -174.68583 0.6895,0 26.281,25.03215 56.8701,
          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
          -104.0616 -231.873,-231.248 z
        " fill="currentColor"></path></g></svg></div></button><ul id="section_07254807090137538" class="css-ts0qly"><li class="css-atv6j6"><a class="css-19pur11" href="hooks-intro.html">1. Introduction aux Hooks</a></li><li class="css-atv6j6"><a class="css-19pur11" href="hooks-overview.html">2. Aperçu des Hooks</a></li><li class="css-atv6j6"><a class="css-19pur11" href="hooks-state.html">3. Utiliser le Hook d’état</a></li><li class="css-atv6j6"><a class="css-19pur11" href="hooks-effect.html">4. Utiliser le Hook d’effet</a></li><li class="css-atv6j6"><a class="css-19pur11" href="hooks-rules.html">5. Les règles des Hooks</a></li><li class="css-atv6j6"><a class="css-19pur11" href="hooks-custom.html">6. Construire vos propres Hooks</a></li><li class="css-atv6j6"><a class="css-19pur11" href="hooks-reference.html">7. Référence de l&#x27;API des Hooks</a></li><li class="css-atv6j6"><a aria-current="page" class="css-1b7a3df" href="hooks-faq.html"><span class="css-ifgy4z"></span>8. FAQ des Hooks</a></li></ul></div><div><button aria-expanded="false" aria-controls="section_029924198453704576" class="css-1j8jxus"><div class="css-19nz7r4">Tests<svg viewbox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="10" height="10" class="css-1jiuhrf"><g transform="translate(904.92214,-879.1482)"><path d="
          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
          -174.68583 0.6895,0 26.281,25.03215 56.8701,
          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
          -104.0616 -231.873,-231.248 z
        " fill="currentColor"></path></g></svg></div></button><ul id="section_029924198453704576" class="css-14d3mgr"><li class="css-atv6j6"><a class="css-19pur11" href="testing.html">Aperçu des tests</a></li><li class="css-atv6j6"><a class="css-19pur11" href="testing-recipes.html">Recettes de test</a></li><li class="css-atv6j6"><a class="css-19pur11" href="testing-environments.html">Environnements de test</a></li></ul></div><div><button aria-expanded="false" aria-controls="section_08036268020951174" class="css-1j8jxus"><div class="css-19nz7r4">Mode concurrent (expérimental)<svg viewbox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="10" height="10" class="css-1jiuhrf"><g transform="translate(904.92214,-879.1482)"><path d="
          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
          -174.68583 0.6895,0 26.281,25.03215 56.8701,
          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
          -104.0616 -231.873,-231.248 z
        " fill="currentColor"></path></g></svg></div></button><ul id="section_08036268020951174" class="css-14d3mgr"><li class="css-atv6j6"><a class="css-19pur11" href="concurrent-mode-intro.html">1. Introduction au mode concurrent</a></li><li class="css-atv6j6"><a class="css-19pur11" href="concurrent-mode-suspense.html">2. Suspense pour le chargement de données</a></li><li class="css-atv6j6"><a class="css-19pur11" href="concurrent-mode-patterns.html">3. Approches pour une UI concurrente</a></li><li class="css-atv6j6"><a class="css-19pur11" href="concurrent-mode-adoption.html">4. Adopter le mode concurrent</a></li><li class="css-atv6j6"><a class="css-19pur11" href="concurrent-mode-reference.html">5. Référence de l’API du mode concurrent</a></li></ul></div><div><button aria-expanded="false" aria-controls="section_07029437063415418" class="css-1j8jxus"><div class="css-19nz7r4">Contribuer<svg viewbox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="10" height="10" class="css-1jiuhrf"><g transform="translate(904.92214,-879.1482)"><path d="
          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
          -174.68583 0.6895,0 26.281,25.03215 56.8701,
          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
          -104.0616 -231.873,-231.248 z
        " fill="currentColor"></path></g></svg></div></button><ul id="section_07029437063415418" class="css-14d3mgr"><li class="css-atv6j6"><a class="css-19pur11" href="how-to-contribute.html">Comment contribuer</a></li><li class="css-atv6j6"><a class="css-19pur11" href="codebase-overview.html">Aperçu du code source</a></li><li class="css-atv6j6"><a class="css-19pur11" href="implementation-notes.html">Notes d’implémentation</a></li><li class="css-atv6j6"><a class="css-19pur11" href="design-principles.html">Principes de conception</a></li></ul></div><div><button aria-expanded="false" aria-controls="section_06060089941260771" class="css-1j8jxus"><div class="css-19nz7r4">FAQ<svg viewbox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="10" height="10" class="css-1jiuhrf"><g transform="translate(904.92214,-879.1482)"><path d="
          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
          -174.68583 0.6895,0 26.281,25.03215 56.8701,
          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
          -104.0616 -231.873,-231.248 z
        " fill="currentColor"></path></g></svg></div></button><ul id="section_06060089941260771" class="css-14d3mgr"><li class="css-atv6j6"><a class="css-19pur11" href="faq-ajax.html">AJAX et les API</a></li><li class="css-atv6j6"><a class="css-19pur11" href="faq-build.html">Babel, JSX, et étapes de construction</a></li><li class="css-atv6j6"><a class="css-19pur11" href="faq-functions.html">Passer des fonctions aux composants</a></li><li class="css-atv6j6"><a class="css-19pur11" href="faq-state.html">État local de composant</a></li><li class="css-atv6j6"><a class="css-19pur11" href="faq-styling.html">Styles et CSS</a></li><li class="css-atv6j6"><a class="css-19pur11" href="faq-structure.html">Structure de fichier</a></li><li class="css-atv6j6"><a class="css-19pur11" href="faq-versioning.html">Politique de versions</a></li><li class="css-atv6j6"><a class="css-19pur11" href="faq-internals.html">DOM virtuel et autres détails</a></li></ul></div></nav></div></div><div role="button" tabindex="0" class="css-yx40kw"><div class="css-tctv7l"><div class="css-7ef8f8"><div class="css-1dgtft4"><svg viewbox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="15" height="15" class="css-sg9l1i"><g transform="translate(904.92214,-879.1482)"><path d="
          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
          -174.68583 0.6895,0 26.281,25.03215 56.8701,
          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
          -104.0616 -231.873,-231.248 z
        " fill="currentColor"></path></g></svg><svg viewbox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="15" height="15" class="css-o1zbu3"><g transform="translate(904.92214,-879.1482)"><path d="
          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,
          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,
          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,
          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,
          -174.68583 0.6895,0 26.281,25.03215 56.8701,
          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864
          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,
          -104.0616 -231.873,-231.248 z
        " fill="currentColor"></path></g></svg></div></div></div></div></div></div></div></div></div><div class="css-uygc5k"><div class="css-tctv7l"><ul class="css-15o825x css-lhap5"><li class="css-k2v7we"><div><div class="css-i3b7x6">Article précédent</div><div class="css-1gz2d9j"><a class="css-1k1lek8" href="hooks-reference.html">Référence de l&#x27;API des Hooks</a></div></div></li></ul></div></div></div></div><footer class="css-vn0yrr"><div class="css-tctv7l"><div class="css-ftk3jl"><div class="css-1q9mcvr"><div class="css-12bsqfj"><div class="css-1m3wp4q"><div class="css-krwajx">Docs</div><a class="css-8l81zy" href="getting-started.html">Installation</a><a class="css-8l81zy" href="hello-world.html">Fondamentaux</a><a class="css-8l81zy" href="accessibility.html">Guides avancés</a><a class="css-8l81zy" href="react-api.html">Référence de l&#x27;API</a><a class="css-8l81zy" href="hooks-intro.html">Hooks</a><a class="css-8l81zy" href="testing.html">Tests</a><a class="css-8l81zy" href="concurrent-mode-intro.html">Mode concurrent (expérimental)</a><a class="css-8l81zy" href="how-to-contribute.html">Contribuer</a><a class="css-8l81zy" href="faq-ajax.html">FAQ</a></div></div><div class="css-12bsqfj"><div class="css-1m3wp4q"><div class="css-krwajx">Canaux</div><a href="../facebook/react.html" target="_blank" rel="noopener" class="css-8l81zy">GitHub<svg x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="css-83uoqv"><path fill="currentColor" d="
      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
    "></path><polygon fill="currentColor" points="
      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
      14.9 62.8,22.9 71.5,22.9
      "></polygon></svg></a><a href="../questions/tagged/reactjs.html" target="_blank" rel="noopener" class="css-8l81zy">Stack Overflow<svg x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="css-83uoqv"><path fill="currentColor" d="
      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
    "></path><polygon fill="currentColor" points="
      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
      14.9 62.8,22.9 71.5,22.9
      "></polygon></svg></a><a href="../community/support.html#popular-discussion-forums" target="_blank" rel="noopener" class="css-8l81zy">Forum<svg x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="css-83uoqv"><path fill="currentColor" d="
      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
    "></path><polygon fill="currentColor" points="
      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
      14.9 62.8,22.9 71.5,22.9
      "></polygon></svg></a><a href="../invite/reactiflux.html" target="_blank" rel="noopener" class="css-8l81zy">Chat Reactiflux<svg x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="css-83uoqv"><path fill="currentColor" d="
      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
    "></path><polygon fill="currentColor" points="
      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
      14.9 62.8,22.9 71.5,22.9
      "></polygon></svg></a><a href="../t/react.html" target="_blank" rel="noopener" class="css-8l81zy">Communauté DEV<svg x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="css-83uoqv"><path fill="currentColor" d="
      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
    "></path><polygon fill="currentColor" points="
      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
      14.9 62.8,22.9 71.5,22.9
      "></polygon></svg></a><a href="../react.html" target="_blank" rel="noopener" class="css-8l81zy">Facebook<svg x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="css-83uoqv"><path fill="currentColor" d="
      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
    "></path><polygon fill="currentColor" points="
      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
      14.9 62.8,22.9 71.5,22.9
      "></polygon></svg></a><a href="../reactjs.html" target="_blank" rel="noopener" class="css-8l81zy">Twitter<svg x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="css-83uoqv"><path fill="currentColor" d="
      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
    "></path><polygon fill="currentColor" points="
      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
      14.9 62.8,22.9 71.5,22.9
      "></polygon></svg></a></div></div><div class="css-12bsqfj"><div class="css-1m3wp4q"><div class="css-krwajx">Communauté</div><a href="../facebook/react/blob/main/CODE_OF_CONDUCT.md.html" class="css-8l81zy">Code de conduite<svg x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="css-83uoqv"><path fill="currentColor" d="
      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
    "></path><polygon fill="currentColor" points="
      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
      14.9 62.8,22.9 71.5,22.9
      "></polygon></svg></a><a class="css-8l81zy" href="/community/support.html">Ressources</a></div></div><div class="css-12bsqfj"><div class="css-1m3wp4q"><div class="css-krwajx">Plus</div><a class="css-8l81zy" href="/tutorial/tutorial.html">Tutoriel</a><a class="css-8l81zy" href="/blog">Blog</a><a class="css-8l81zy" href="/acknowledgements.html">Remerciements</a><a href="../index-2.htm" target="_blank" rel="noopener" class="css-8l81zy">React Native<svg x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="css-83uoqv"><path fill="currentColor" d="
      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
    "></path><polygon fill="currentColor" points="
      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
      14.9 62.8,22.9 71.5,22.9
      "></polygon></svg></a><a href="../legal/privacy/index.htm" class="css-8l81zy">Vie privée<svg x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="css-83uoqv"><path fill="currentColor" d="
      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
    "></path><polygon fill="currentColor" points="
      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
      14.9 62.8,22.9 71.5,22.9
      "></polygon></svg></a><a href="../legal/terms/index.htm" class="css-8l81zy"><abbr title="Conditions Générales d’Utilisation">CGU</abbr><svg x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="css-83uoqv"><path fill="currentColor" d="
      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
    "></path><polygon fill="currentColor" points="
      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
      14.9 62.8,22.9 71.5,22.9
      "></polygon></svg></a></div></div></div><section class="css-1ac8j74"><a href="../projects/index.htm" target="_blank" rel="noopener"><img alt="Facebook Open Source" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAABaCAMAAADQMV5DAAAC3FBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+GTFYVAAAA9HRSTlMAG7O/KQR48v/+hA5W2+piObG8RBSU/fehIG7stSWl9nkIStbYU0XN4FUvrHoDcOi3OAuLmheOmRVm4rtBNbDucsnfXlDUJpuGB3vtM3+mHBKMEF3FSDzmaMLpWN7PRh2XkAaAo3X4riuiBctS3WAxtvFxEWTkxD4YbKirjzr7H/W5MIHKvrKtyCh3AUsNuKnHaxNOzPlMqqTGn++vniOTCSJJzhZAfKfAhSEuLWU/jSyDwU9DiJY3X9JzujJRRwIewzRnhzZZtFpNkldcvSRbPVQ7KicMDxoZkXagidWCb20K2dflYZ2KleGc0WrQ2vD8mH5p7f+VowAADPFJREFUeAHs0AN7Y2EYhOGJbVu1bdu22+3axp/fYurGyeX3PvZ3HuRFoVSpUU5Co9Xp9QajCaJszBb9NasN5SHsDv0dpwuidG4Pc3p93PoDKJEIhtgyHFFEuReLJ1ACkUwxZEUlLlVV86imFsUSdfWMqGtoBDU180xLK4oh2tr11NH54GSXnrp7UDDR28d6/QN4ZHCI54dHUBgxMMp0Y+N4ZmKS11ITEPmbmmY238ws0pmb5/X6BYj8NC7qaWkZGaxM62l1DSIP6xb22thEFlv9vGt7ByIX+y5j7fUih/0D3nl4BJHN8YmeTleQ09mLGG8+n4LI6OUrVnr9BnlRvNWT8R1EWuZDFnr/AXnbVPGZj58gnvv8hXm+fkM63yNTPUjnx08+9+s3xGOd7Xo6+YPnFv6u/rto1z6A28buPI7/7rBK/nPrXuaCnFaTlcej8eqC9CpbN6KxfcFk30pO4SFVinQjD73VReIWw0XyWc2RL+ICWHtN+1kuKe7l3L1nuvvikmx6771Mr8c8yhhAwAmUwCxT+HHlGzyXr0EP+fivfLwzpTwLvzsffW5k6/NwKXvjCySsNOAnr2pcvWZtV9f0Gau7H10Hv7taSXjuP9djRFnPahImL4Rf79S+7s54R1dlZWtHvH+gbsNn4Te4kYQ5CZQJbyDhvx5CgM8NbVybjs94sdI01zau6Wiur2mdhAArLBLq8Wen2pgAWZLxGiLhpU3wW/Du1Sur0m9t3/y5+15+eUvm0YG6dNXjWz+xDH7bNpOAsenkNqE8GmECOHG8hp4hoqWL4Ld8+9Klw812zfSE8zSvrcndtzsadu6C3+7HiegZjI0kzcX4m476efh8KlnfXpvu6J7R8i447lzR19CfHuru+0IvfGYVElWD199w1C9itI/9x9bK5viahi/tgceWvd374um1NZ37MdoeT9Ry1AOj+xxcPaMqXbn6pWr48EMb+9JVK1d/8jC87ilHHSvq+z4y0JHuan/8CAIlWrfWNw8vHWgpUlSW1DSVAZCZs6RqSQMOOaklZU9UruVXHIxrigH/ij8qk0sR9dNH69PxpTse+gAQbNZ/H+vOVb/3HcWIykwSNAbbhmBIZEkxsjR2+2FMskjiTlTVEltMhhGGTSR2BK14ozLdLkHUD8/paH5rzewlGMO6dzQcSw8f3R49qhGzNBmQFUtnkiSWkiQZAOQU6fLthyJtciSqmd+iWZYBzw7N0pl/xROV6Tp77aMeb+9q3tF6AiFO9n+kuf/oyYhRnb+j+Fk+qkoK8gxLAwwykWdasoiq3G4p6xbL79CcHXrwiogarWmEqKfMHc3H1p5GqKeqpHRdvCJiVE2EEliMJADMsuEmSXAuMEVUMpAngnt3GKQFroio0ZpGiLps9fBQwz0owOl9drxmcJxR3VQAVgoOVURVSIaLIS7LU4gBGmlwmDR6h2n5V5yoomkJorY0xM88BK/eLW1nz35+E4PXKw3xpf9TeFTfOyoGcDIAhyV57kxBI3dgDmiuLaKVd4cavCIuFE1LELXiPSv7G4/DjZ3bn01MmpTInnjbLLjJdbX19dsiPP09yURP/yW2zgWBNO+W/NWWZwcpASsiKtNJRiminj7funaYweW+eRcGM9U5mYuJRBvcLh3r33H2zxxVIjclKCppYSsiKtN1SypJ1Pse73r8/grAseex/U2ZE5dzFmeaBq94buJVOzqvHo8UVSE2OqqVGnWnws0XVQFi7h0seIWTqutMJbMUUTedb600X4Zj02MXm/ZnZ+6+dm3P/Kza1HPkDsDxT1LnjCWRohqkwsFIAmDH/Nm9UTkcKhliR+gKJ/HSSqFk6aP2ztvftHjuulPIWX9tcG7T4GUGx87IUWFJrn4iapK4N3tydFQTDjM2eocUvMJJZ2IDGSWPevx/m/bPfS9GsMVqU/bLRYzquXUMK184pjNnyQBsy3nIDBHVSnqKe3aopPpXPC/+LbnEUd8+OJi5cA2Of0hU91z/YDGjQrqdiFuaJIlSrveaKYBZuuy8gRJRk2KLuFLCqB2WGbTiRBW/HCtt1OezmRMz4XLjeiZ7X1GjMomkJOdJm1KQbjeyNA6WlCglHupWioPxFIm6GiEptqgmSQyuHbJqix1BK05UGJZZ2qg3E9WJm3C5lq2etCBCVF2FT1KnHIkDKRsC02KUY3PkKeIKPSkeqDFxBJUTEwuuHZbYEbgiW4bz+1mljfrIpOrENbgsv95zfVGEqMFkzhm8GDfgZhjw4lwevUNG2IqjlFHP5qJu8oyyhEYtC4u6J1GdXQeXTbmn/7ly1EhR5Wxm8XzPUPC86uyt6FEZ5xzFxDmX/1qifkW9mLkgw7Et0dMzaVbEqHIqlp/BVliRitr0J7GU/FcRFQuyGVVlzsvWi4ubLnNEi6pYlpnknCsSWSqKIEW6wjlPmkTaX0XUryYGT849sQvCBy7Oa7qY/Wy0qCaZDHlcpyQiS5KCPNkm5a8hKm5d6WlSLy+649Wv3Xp20uKm6oW7Ix2oIOXuyMwiVI3ZcBgMBSj90d+ShYNN1dcvX8997Wm6+Ni00Ud/j4wrqkoa3KK/EzdIRQQlOqTeMy/Rk6nu6anO9FxOLIHb148NSeM7pI5J8JDJdOYb/AMShiKGLAQxaMEVjbPw0RPfbIUBh8ycBaZqLGx0oyhRK+7v619qwG3WsuvZSdevT8pO4l+D2+m6Wnv68vFE5aTCyyQGQLMCBiTUGOkSkSmLR7b9pwVJIkp5ssqkwMc3SWHgNslGjqUAmkXEw0Y3ihIV3+iOn3kdvN5739lFi87dehe8nu6Of2R8H/ylLP+zNxk8IAGTUrJIm1+QpJHDKcXS4SZZBhwhkxTO54qkwSRTlUNHN4oTdf7G4c6GNhTg1X12la6OK6pkYzRLCx6QUCjpDFmIrSJuPpEGR/48isERPEnhj5qyOMJHN4oUtcJck65r/ThCsW/uSB8bfnBcUUnzd5YQPCCheW9m587xfeBiSES2xiEET1L4o4r7O3x0o0hRsUCvbd5nfwwhlg2dae6fk0GRovoHJJj3sz+JXM9uAx7cjBGRLaoHT1L4oorfMHx0o1hRseHe3IBa+7cMjOHWqsa6dHyrhmJEDRuQUMiJ4VwwmqymYhQT64GTFL6oIlj46EaxouKBe+ubO5Yufd17EQy9b7zaPdTc9e1LEKL+nxo4IGFyh0I8LKqgxkhF8CSFL6r4Pnx0o3hRsWLHi8NVte32hTcjyOLhGrsq/pGlb6oYb1TTCn7t7o9KHkZBUcFiMQRPUviiimvCRzeKGBW7L23Mjae/deM3vwifw4dqjuXG0ze+c9r4x9NVSsIrZTF/VMU3UlFYVCTJCJ6kCI4aOroRKep8jKZ+s+Yf03Hpxe+0wWPLmxr3xdP17f0JjPb5Qt5RxeDBLBPBAxL6RKJy4v5JCu8G3RM1ZHQjUtR18Kn4wlvba5uHGqTvMjgefF9dQ2d6aGDN974PH1bQe/+UN5XFggckFJInEFUl2T9J4XnXxcgTNWR0I1LUlW+D3y5tx5l42t46NHc98nqaa6ZXVe1ofOAm/Nr6C4gKkxTPIxUIHJBgrlMCWR4jqiQxT8LA2QpdxwjNGzVkdGPCSPj6LPide0/Nyqp0X83sk/Ldd3/8wJfaZ1SlH9ffwOH34E4SEF7VlpEnS6Jf8IAEd04BuGWPETVJMdXzbxQ0W6GScnvB+/QPGd2YsH4SpqxAgHnD7fXpeF3jdNO0l64ZTnfVdB15M/ySMRLOI5RGlD/5tynGIQQOSKhWTDHEOITJxogqDkBSKudciVEycJJC5DY5wE3LkDxRQ0Y3Ju76D0j4YQ/8vr9hTXdnVYddWWl3VA0N7GiZBb8vD5Dwox9jYp9RaRQ0IJFyj1SIQQvfYITAbYucK4MmKZyJDVNGykROfjAjdHQjglPbX09CRxv87th7pv2Y3TnUtbJ96TuWwG/XT0h47uCdwMQ+TdUoeEACzkL4OAYPm6TwjmeEj25Ete0lyvvp3fBb0PKz6TPWnP/Ev95AgO3PkTB0FyZMI/wtmjmDhJ8/jSAfv2fJrvUIkJ1DwsB+oBzV58i/k9BwAAU7d4yEf/kegpSj4lM7P0PCL9ahIK9+kvI2z0I0agx/s+QhyltVgXBPfoaEx9tQNpbMAAmTryCEupWEX15HWZhXppCw420YQ9taEl5oQQHKPvhuypv96v97yU8p7/7nUZiym10k/PM3EOhX/0ZC3WEUruzEVhJ+fR0+TWdI+M2PMT5lLb8lodKAx7U4Cb9bhXEr+9rvKe9b2+D4yh9+R0LzXZiIsuPHSHj9BoxY+BYSBpZhosqu/IaE7owYn6gj4Zk/oiwC5wiq9r3f/wXlHXwZZdFs+iYJD3+IhM7dKIvuxkfIofegrDj++HMSPtqCsqKp+JY44Hs7yorp5rHGZ1Gosv8DnDgXp7vdFQUAAAAASUVORK5CYII=" class="css-1izr7si"></a><p class="css-1yy5aal">Copyright © 2021 Facebook Inc.</p></section></div></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-41298772-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/docs/hooks-faq.html";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-39d01fc442e9f30e29e1.js"],"app":["/app-41c2e49cc07a3028a0fe.js"],"component---src-pages-404-js":["/component---src-pages-404-js-dc2d3db5b58ed3161987.js"],"component---src-pages-acknowledgements-html-js":["/component---src-pages-acknowledgements-html-js-5938b520c2b7857dec65.js"],"component---src-pages-blog-all-html-js":["/component---src-pages-blog-all-html-js-e27c7679b5e8866024f1.js"],"component---src-pages-docs-error-decoder-html-js":["/component---src-pages-docs-error-decoder-html-js-0dfc7b86fb98cfc5d1cb.js"],"component---src-pages-index-js":["/component---src-pages-index-js-6de489bf37b337f4b2e7.js"],"component---src-pages-jsx-compiler-html-js":["/component---src-pages-jsx-compiler-html-js-9375e47f015bc289e845.js"],"component---src-pages-languages-js":["/component---src-pages-languages-js-fa5ecc66195ecc36d3a8.js"],"component---src-pages-versions-js":["/component---src-pages-versions-js-cbb1e069b23f6369eba5.js"],"component---src-templates-blog-js":["/component---src-templates-blog-js-79e6d426663fa2026a1c.js"],"component---src-templates-codepen-example-js":["/component---src-templates-codepen-example-js-3932ae4f8447dfb87d48.js"],"component---src-templates-community-js":["/component---src-templates-community-js-3fa7700a6501cdd752d9.js"],"component---src-templates-docs-js":["/component---src-templates-docs-js-e7ab2d4c231b268c390d.js"],"component---src-templates-tutorial-js":["/component---src-templates-tutorial-js-b69121131fcf6122daeb.js"]};/*]]>*/</script><script src="../polyfill-39d01fc442e9f30e29e1.js" nomodule=""></script><script src="../component---src-templates-docs-js-e7ab2d4c231b268c390d.js" async=""></script><script src="../1ed44328c19c4a4d76fd533f20afa4a4705f4d6f-dd12561757731965efe3.js" async=""></script><script src="../3e8f09252b6028beb8baf8cc63801156f5861675-52ade79e8109d5f7a856.js" async=""></script><script src="../commons-1d864ef2768b7d6f94a0.js" async=""></script><script src="../app-41c2e49cc07a3028a0fe.js" async=""></script><script src="../styles-fb708593b484b04b1765.js" async=""></script><script src="../framework-e47d9c53f7d3acd32cd4.js" async=""></script><script src="../webpack-runtime-a441fab2ee56d38e5cbf.js" async=""></script><script src="../docsearch.js@2.4.1/dist/cdn/docsearch.min.js"></script></body></html>